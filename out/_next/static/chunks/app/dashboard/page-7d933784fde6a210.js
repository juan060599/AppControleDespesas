(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{36430:(e,t,n)=>{Promise.resolve().then(n.bind(n,78623))},78623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var r=n(95155),o=n(12115),a=n(20063),i=n(75746),s=n(26991),l=n(94632),d=n(68425),c=n(47734),g=n(73697),p=n(23508),m=n(26736),u=n(24268);function x(e){let{title:t,value:n,icon:o,trend:a,subtitle:i,backgroundColor:s=u.Tj.primary[50]}=e;return(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.primary[100]),padding:"clamp(12px, 3vw, 24px) clamp(12px, 2vw, 16px)",minHeight:"clamp(100px, 25vw, 140px)",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative",overflow:"hidden",transition:u.bm.normal,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.boxShadow=u.Eo.lg,e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow=u.Eo.md,e.currentTarget.style.transform="translateY(0)"},children:[(0,r.jsx)("div",{style:{position:"absolute",top:"-40px",right:"-40px",width:"clamp(100px, 15vw, 120px)",height:"clamp(100px, 15vw, 120px)",background:"radial-gradient(circle, ".concat(s,"60 0%, transparent 70%)"),borderRadius:"50%",pointerEvents:"none"}}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"clamp(8px, 1.5vw, 12px)",position:"relative",zIndex:1,gap:"clamp(8px, 2vw, 12px)"},children:[(0,r.jsxs)("div",{style:{minWidth:0,flex:1},children:[(0,r.jsx)("p",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:u.Tj.secondary[500],fontWeight:600,margin:0,marginBottom:"clamp(4px, 1vw, 6px)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t}),i&&(0,r.jsx)("p",{style:{fontSize:"clamp(10px, 1.2vw, 11px)",color:u.Tj.secondary[400],margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i})]}),(0,r.jsx)("div",{style:{width:"clamp(40px, 10vw, 48px)",height:"clamp(40px, 10vw, 48px)",background:s,borderRadius:u.Vq.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:o})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",position:"relative",zIndex:1,gap:"clamp(8px, 2vw, 12px)",flexWrap:"wrap"},children:[(0,r.jsx)("div",{style:{flex:1,minWidth:0},children:(0,r.jsx)("p",{style:{fontSize:"clamp(18px, 5vw, 24px)",fontWeight:700,color:u.Tj.secondary[900],margin:0,lineHeight:"1.2",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n})}),void 0!==a&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"clamp(4px, 1vw, 6px)",padding:"clamp(4px, 1vw, 6px) clamp(8px, 1.5vw, 12px)",background:a>0?u.Tj.status.success+"15":u.Tj.status.error+"15",borderRadius:u.Vq.md,flexShrink:0},children:[a>0?(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:u.Tj.status.success,strokeWidth:"2",children:[(0,r.jsx)("polyline",{points:"23 6 13.46 15.54 8 10.09 1 17"}),(0,r.jsx)("polyline",{points:"23 6 23 16 13 16"})]}):(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:u.Tj.status.error,strokeWidth:"2",children:[(0,r.jsx)("polyline",{points:"23 18 13.46 8.46 8 13.91 1 7"}),(0,r.jsx)("polyline",{points:"23 18 23 8 13 8"})]}),(0,r.jsxs)("span",{style:{fontSize:"clamp(10px, 1.5vw, 12px)",fontWeight:600,color:a>0?u.Tj.status.success:u.Tj.status.error,whiteSpace:"nowrap"},children:[Math.abs(a),"%"]})]})]})]})}var y=n(6191),h=n(71360);let j={daily:"Di\xe1ria",weekly:"Semanal",monthly:"Mensal",quarterly:"Trimestral",yearly:"Anual"},b={daily:30,weekly:4.33,monthly:1,quarterly:.25,yearly:1/12};function f(e){let{userId:t}=e,[n,a]=(0,o.useState)([]),[s,l]=(0,o.useState)(!0),[d,c]=(0,o.useState)(!1),[g,p]=(0,o.useState)({description:"",amount:"",category:"",frequency:"monthly",next_charge_date:"",notes:""});(0,o.useEffect)(()=>{m()},[t]);let m=async()=>{try{let{data:e}=await (0,i.jo)(t);a(e||[])}catch(e){console.error("Error loading recurring expenses:",e)}finally{l(!1)}},x=async()=>{if(!g.description||!g.amount||!g.category||!g.next_charge_date)return void alert("Preencha todos os campos obrigat\xf3rios");try{await (0,i.tS)({user_id:t,description:g.description,amount:parseFloat(g.amount),category:g.category,frequency:g.frequency,next_charge_date:g.next_charge_date,notes:g.notes||void 0,is_active:!0}),p({description:"",amount:"",category:"",frequency:"monthly",next_charge_date:"",notes:""}),c(!1),m()}catch(e){console.error("Error adding recurring expense:",e),alert("Erro ao adicionar despesa")}},f=async e=>{if(confirm("Deseja remover esta assinatura?"))try{await (0,i.$S)(e),m()}catch(e){console.error("Error deleting expense:",e)}};return(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.primary[100]),overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{padding:"".concat(u.YK.md," ").concat(u.YK.md),background:"linear-gradient(135deg, ".concat(u.Tj.primary[50]," 0%, ").concat(u.Tj.primary[100]," 100%)"),borderBottom:"1px solid ".concat(u.Tj.primary[100]),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{fontSize:"16px",fontWeight:700,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.xs},children:"\uD83D\uDCB3 Recorrentes"}),(0,r.jsx)("p",{style:{fontSize:"12px",color:u.Tj.secondary[600],margin:0},children:"Despesas peri\xf3dicas"})]}),(0,r.jsxs)("button",{onClick:()=>c(!d),style:{background:u.Tj.primary[600],border:"none",color:"white",padding:"".concat(u.YK.sm," ").concat(u.YK.md),borderRadius:u.Vq.lg,cursor:"pointer",display:"flex",alignItems:"center",gap:u.YK.xs,fontSize:"13px",fontWeight:600,transition:u.bm.normal,boxShadow:u.Eo.sm},onMouseOver:e=>{e.target.style.background=u.Tj.primary[700],e.target.style.boxShadow=u.Eo.md},onMouseOut:e=>{e.target.style.background=u.Tj.primary[600],e.target.style.boxShadow=u.Eo.sm},children:[(0,r.jsx)(y.A,{size:18}),d?"Cancelar":"Adicionar"]})]}),d&&(0,r.jsxs)("div",{style:{padding:u.YK.lg,borderBottom:"1px solid ".concat(u.Tj.primary[100]),backgroundColor:u.Tj.primary[50]},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:u.YK.md,marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Descri\xe7\xe3o"}),(0,r.jsx)("input",{type:"text",placeholder:"Netflix, Spotify, etc",value:g.description,onChange:e=>p({...g,description:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.primary[200],e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Valor (R$)"}),(0,r.jsx)("input",{type:"number",placeholder:"0.00",step:"0.01",value:g.amount,onChange:e=>p({...g,amount:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.primary[200],e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:u.YK.md,marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Categoria"}),(0,r.jsx)("input",{type:"text",placeholder:"Streaming, Sa\xfade, etc",value:g.category,onChange:e=>p({...g,category:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.primary[200],e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Frequ\xeancia"}),(0,r.jsx)("select",{value:g.frequency,onChange:e=>p({...g,frequency:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",background:"white",cursor:"pointer",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.primary[200],e.currentTarget.style.boxShadow="none"},children:Object.entries(j).map(e=>{let[t,n]=e;return(0,r.jsx)("option",{value:t,children:n},t)})})]})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Pr\xf3xima Cobran\xe7a"}),(0,r.jsx)("input",{type:"date",value:g.next_charge_date,onChange:e=>p({...g,next_charge_date:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.primary[200],e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.md},children:[(0,r.jsx)("button",{onClick:x,style:{background:u.Tj.status.success,color:"white",border:"none",padding:"".concat(u.YK.md," ").concat(u.YK.xl),borderRadius:u.Vq.lg,cursor:"pointer",fontWeight:600,fontSize:u.Il.body.fontSize,transition:u.bm.normal,boxShadow:u.Eo.sm,flex:1},onMouseOver:e=>{e.target.style.background=u.Tj.status.success+"dd",e.target.style.boxShadow=u.Eo.md},onMouseOut:e=>{e.target.style.background=u.Tj.status.success,e.target.style.boxShadow=u.Eo.sm},children:"Salvar"}),(0,r.jsx)("button",{onClick:()=>c(!1),style:{background:u.Tj.secondary[100],color:u.Tj.secondary[900],border:"none",padding:"".concat(u.YK.md," ").concat(u.YK.xl),borderRadius:u.Vq.lg,cursor:"pointer",fontWeight:600,fontSize:u.Il.body.fontSize,transition:u.bm.normal,flex:1},onMouseOver:e=>{e.target.style.background=u.Tj.secondary[200]},onMouseOut:e=>{e.target.style.background=u.Tj.secondary[100]},children:"Cancelar"})]})]}),(0,r.jsx)("div",{style:{padding:u.YK.lg},children:s?(0,r.jsx)("p",{style:{textAlign:"center",color:u.Tj.secondary[500]},children:"Carregando..."}):0===n.length?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"".concat(u.YK.lg," 0")},children:[(0,r.jsx)("p",{style:{color:u.Tj.secondary[500],margin:0,marginBottom:u.YK.md,fontSize:"16px"},children:"Nenhuma assinatura registrada"}),(0,r.jsx)("p",{style:{color:u.Tj.secondary[400],fontSize:u.Il.small.fontSize,margin:0},children:'Clique em "Adicionar" para come\xe7ar a rastrear'})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{marginBottom:u.YK.lg},children:n.map(e=>(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:u.YK.md,marginBottom:u.YK.sm,border:"1px solid ".concat(u.Tj.primary[100]),borderRadius:u.Vq.lg,background:u.Tj.background.light,transition:u.bm.normal},onMouseOver:e=>{e.currentTarget.style.background=u.Tj.primary[50],e.currentTarget.style.boxShadow=u.Eo.sm},onMouseOut:e=>{e.currentTarget.style.background=u.Tj.background.light,e.currentTarget.style.boxShadow="none"},children:[(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.body.fontSize,fontWeight:600,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.xs},children:e.description}),(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.md,fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],flexWrap:"wrap"},children:[(0,r.jsxs)("span",{style:{fontWeight:600,color:u.Tj.primary[600]},children:["R$ ",e.amount.toFixed(2)]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:j[e.frequency]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{style:{background:u.Tj.primary[50],padding:"2px 8px",borderRadius:u.Vq.md},children:e.category})]})]}),(0,r.jsx)("button",{onClick:()=>f(e.id),style:{background:u.Tj.status.error+"15",border:"none",color:u.Tj.status.error,padding:"".concat(u.YK.sm," ").concat(u.YK.md),borderRadius:u.Vq.lg,cursor:"pointer",transition:u.bm.normal,marginLeft:u.YK.md},onMouseOver:e=>{e.target.style.background=u.Tj.status.error+"25"},onMouseOut:e=>{e.target.style.background=u.Tj.status.error+"15"},children:(0,r.jsx)(h.A,{size:16})})]},e.id))}),(0,r.jsxs)("div",{style:{padding:u.YK.lg,background:u.Tj.primary[50],borderRadius:u.Vq.lg,border:"2px solid ".concat(u.Tj.primary[200]),textAlign:"center"},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[600],margin:0,marginBottom:u.YK.xs,textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:600},children:"Total Mensal Estimado"}),(0,r.jsxs)("p",{style:{fontSize:"28px",fontWeight:700,color:u.Tj.primary[600],margin:0},children:["R$ ",n.reduce((e,t)=>{let n=b[t.frequency]||1;return e+t.amount*n},0).toFixed(2)]})]})]})})]})}let T={vacation:"✈️ F\xe9rias",emergency_fund:"\uD83D\uDEA8 Fundo de Emerg\xeancia",debt_payoff:"\uD83D\uDCB3 Pagar D\xedvida",investment:"\uD83D\uDCC8 Investimento",purchase:"\uD83D\uDECD️ Compra",other:"\uD83D\uDCCC Outro"},v={vacation:"✈️",emergency_fund:"\uD83D\uDEA8",debt_payoff:"\uD83D\uDCB3",investment:"\uD83D\uDCC8",purchase:"\uD83D\uDECD️",other:"\uD83D\uDCCC"},S={vacation:u.Tj.status.success,emergency_fund:u.Tj.status.warning,debt_payoff:u.Tj.status.error,investment:u.Tj.primary[500],purchase:u.Tj.secondary[500],other:u.Tj.secondary[400]};function w(e){let{userId:t}=e,[n,a]=(0,o.useState)([]),[s,l]=(0,o.useState)(!0),[d,c]=(0,o.useState)(!1),[g,p]=(0,o.useState)({name:"",description:"",target_amount:"",goal_type:"investment",target_date:""});(0,o.useEffect)(()=>{m()},[t]);let m=async()=>{try{let{data:e}=await (0,i.W1)(t);a(e||[])}catch(e){console.error("Error loading financial goals:",e)}finally{l(!1)}},x=async()=>{if(!g.name||!g.target_amount||!g.target_date)return void alert("Preencha todos os campos obrigat\xf3rios");try{await (0,i.EP)({user_id:t,name:g.name,description:g.description||void 0,target_amount:parseFloat(g.target_amount),current_amount:0,goal_type:g.goal_type,target_date:g.target_date,icon:v[g.goal_type]||"\uD83D\uDCCC",color:S[g.goal_type]||u.Tj.secondary[400],is_active:!0}),p({name:"",description:"",target_amount:"",goal_type:"investment",target_date:""}),c(!1),m()}catch(e){console.error("Error adding goal:",e),alert("Erro ao criar objetivo")}},j=async e=>{if(confirm("Deseja remover este objetivo?"))try{await (0,i.UI)(e),m()}catch(e){console.error("Error deleting goal:",e)}},b=async(e,t)=>{if(t<0||t>e.target_amount)return void alert("Valor deve estar entre 0 e o valor alvo");try{await (0,i._y)(e.id,{current_amount:t}),m()}catch(e){console.error("Error updating goal:",e)}};return(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.secondary[100]),overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{padding:u.YK.lg,background:"linear-gradient(135deg, ".concat(u.Tj.secondary[50]," 0%, ").concat(u.Tj.secondary[100]," 100%)"),borderBottom:"1px solid ".concat(u.Tj.secondary[100]),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.xs},children:"\uD83C\uDFAF Objetivos Financeiros"}),(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[600],margin:0},children:"Defina metas e acompanhe seu progresso"})]}),(0,r.jsxs)("button",{onClick:()=>c(!d),style:{background:u.Tj.secondary[600],border:"none",color:"white",padding:"".concat(u.YK.md," ").concat(u.YK.lg),borderRadius:u.Vq.lg,cursor:"pointer",display:"flex",alignItems:"center",gap:u.YK.sm,fontSize:u.Il.body.fontSize,fontWeight:600,transition:u.bm.normal,boxShadow:u.Eo.sm},onMouseOver:e=>{e.target.style.background=u.Tj.secondary[700],e.target.style.boxShadow=u.Eo.md},onMouseOut:e=>{e.target.style.background=u.Tj.secondary[600],e.target.style.boxShadow=u.Eo.sm},children:[(0,r.jsx)(y.A,{size:18}),d?"Cancelar":"Adicionar"]})]}),d&&(0,r.jsxs)("div",{style:{padding:u.YK.lg,borderBottom:"1px solid ".concat(u.Tj.secondary[100]),backgroundColor:u.Tj.secondary[50]},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:u.YK.md,marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Nome do Objetivo"}),(0,r.jsx)("input",{type:"text",placeholder:"Ex: Viagem para Paris",value:g.name,onChange:e=>p({...g,name:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.secondary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Tipo de Objetivo"}),(0,r.jsx)("select",{value:g.goal_type,onChange:e=>p({...g,goal_type:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",background:"white",cursor:"pointer",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.secondary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"},children:Object.entries(T).map(e=>{let[t,n]=e;return(0,r.jsx)("option",{value:t,children:n},t)})})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:u.YK.md,marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Valor Alvo (R$)"}),(0,r.jsx)("input",{type:"number",placeholder:"0.00",step:"0.01",value:g.target_amount,onChange:e=>p({...g,target_amount:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.secondary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Data Alvo"}),(0,r.jsx)("input",{type:"date",value:g.target_date,onChange:e=>p({...g,target_date:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.secondary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Descri\xe7\xe3o (opcional)"}),(0,r.jsx)("textarea",{placeholder:"Adicione detalhes sobre seu objetivo...",value:g.description,onChange:e=>p({...g,description:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,boxSizing:"border-box",minHeight:"80px",fontFamily:"inherit",transition:u.bm.normal,outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[400],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.secondary[100])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.md},children:[(0,r.jsx)("button",{onClick:x,style:{background:u.Tj.status.success,color:"white",border:"none",padding:"".concat(u.YK.md," ").concat(u.YK.xl),borderRadius:u.Vq.lg,cursor:"pointer",fontWeight:600,fontSize:u.Il.body.fontSize,transition:u.bm.normal,boxShadow:u.Eo.sm,flex:1},onMouseOver:e=>{e.target.style.background=u.Tj.status.success+"dd",e.target.style.boxShadow=u.Eo.md},onMouseOut:e=>{e.target.style.background=u.Tj.status.success,e.target.style.boxShadow=u.Eo.sm},children:"Criar Objetivo"}),(0,r.jsx)("button",{onClick:()=>c(!1),style:{background:u.Tj.secondary[100],color:u.Tj.secondary[900],border:"none",padding:"".concat(u.YK.md," ").concat(u.YK.xl),borderRadius:u.Vq.lg,cursor:"pointer",fontWeight:600,fontSize:u.Il.body.fontSize,transition:u.bm.normal,flex:1},onMouseOver:e=>{e.target.style.background=u.Tj.secondary[200]},onMouseOut:e=>{e.target.style.background=u.Tj.secondary[100]},children:"Cancelar"})]})]}),(0,r.jsx)("div",{style:{padding:u.YK.lg},children:s?(0,r.jsx)("p",{style:{textAlign:"center",color:u.Tj.secondary[500]},children:"Carregando..."}):0===n.length?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"".concat(u.YK.lg," 0")},children:[(0,r.jsx)("p",{style:{color:u.Tj.secondary[500],margin:0,marginBottom:u.YK.md,fontSize:"16px"},children:"Nenhum objetivo definido"}),(0,r.jsx)("p",{style:{color:u.Tj.secondary[400],fontSize:u.Il.small.fontSize,margin:0},children:'Clique em "Adicionar" para criar seu primeiro objetivo'})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{display:"grid",gap:u.YK.md,marginBottom:u.YK.lg},children:n.map(e=>{let t=e.current_amount/e.target_amount*100,n=t<33?u.Tj.status.error:t<66?u.Tj.status.warning:u.Tj.status.success;return(0,r.jsxs)("div",{style:{padding:u.YK.lg,border:"2px solid ".concat(S[e.goal_type]||u.Tj.secondary[100]),borderRadius:u.Vq.lg,background:u.Tj.background.light,transition:u.bm.normal},onMouseOver:e=>{e.currentTarget.style.boxShadow=u.Eo.md,e.currentTarget.style.background=u.Tj.secondary[50]},onMouseOut:e=>{e.currentTarget.style.boxShadow="none",e.currentTarget.style.background=u.Tj.background.light},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.sm,marginBottom:u.YK.xs},children:[(0,r.jsx)("span",{style:{fontSize:"24px"},children:e.icon}),(0,r.jsx)("h4",{style:{fontSize:u.Il.h4.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0},children:e.name})]}),e.description&&(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:0,marginLeft:"32px"},children:e.description})]}),(0,r.jsx)("button",{onClick:()=>j(e.id),style:{background:u.Tj.status.error+"15",border:"none",color:u.Tj.status.error,padding:"".concat(u.YK.sm," ").concat(u.YK.md),borderRadius:u.Vq.lg,cursor:"pointer",transition:u.bm.normal},onMouseOver:e=>{e.target.style.background=u.Tj.status.error+"25"},onMouseOut:e=>{e.target.style.background=u.Tj.status.error+"15"},children:(0,r.jsx)(h.A,{size:16})})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:u.YK.xs},children:[(0,r.jsxs)("span",{style:{fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700]},children:["R$ ",e.current_amount.toFixed(2)," / R$ ",e.target_amount.toFixed(2)]}),(0,r.jsxs)("span",{style:{fontSize:u.Il.small.fontSize,fontWeight:700,color:n},children:[Math.round(t),"%"]})]}),(0,r.jsx)("div",{style:{width:"100%",height:"8px",background:u.Tj.secondary[100],borderRadius:u.Vq.full,overflow:"hidden"},children:(0,r.jsx)("div",{style:{height:"100%",width:"".concat(Math.min(t,100),"%"),background:n,borderRadius:u.Vq.full,transition:"width ".concat(u.bm.normal)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[700],marginBottom:u.YK.xs},children:"Atualizar Progresso"}),(0,r.jsx)("input",{type:"range",min:"0",max:e.target_amount,step:"100",value:e.current_amount,onChange:t=>b(e,parseFloat(t.target.value)),style:{width:"100%",cursor:"pointer",accentColor:S[e.goal_type]||u.Tj.secondary[400]}})]})]},e.id)})}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:u.YK.md},children:[(0,r.jsxs)("div",{style:{padding:u.YK.lg,background:u.Tj.secondary[50],borderRadius:u.Vq.lg,border:"2px solid ".concat(u.Tj.secondary[200]),textAlign:"center"},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[600],margin:0,marginBottom:u.YK.xs,textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:600},children:"J\xe1 Acumulado"}),(0,r.jsxs)("p",{style:{fontSize:"24px",fontWeight:700,color:u.Tj.secondary[600],margin:0},children:["R$ ",n.reduce((e,t)=>e+t.current_amount,0).toFixed(2)]})]}),(0,r.jsxs)("div",{style:{padding:u.YK.lg,background:u.Tj.primary[50],borderRadius:u.Vq.lg,border:"2px solid ".concat(u.Tj.primary[200]),textAlign:"center"},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.primary[600],margin:0,marginBottom:u.YK.xs,textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:600},children:"Total em Metas"}),(0,r.jsxs)("p",{style:{fontSize:"24px",fontWeight:700,color:u.Tj.primary[600],margin:0},children:["R$ ",n.reduce((e,t)=>e+t.target_amount,0).toFixed(2)]})]})]})]})})]})}var z=n(26921),k=n(1524),Y=n(6132),K=n(17666);function C(e){let{userId:t,allTransactions:n}=e,[a,s]=(0,o.useState)("last-6-months"),[l,d]=(0,o.useState)([]),[c,g]=(0,o.useState)([]),[p,m]=(0,o.useState)([]),[x,y]=(0,o.useState)([]),[h,j]=(0,o.useState)(!1);(0,o.useEffect)(()=>{b()},[a,n]);let b=()=>{j(!0);let{startDate:e,endDate:t}=(0,i.F3)(a),r=n.filter(n=>n.date>=e&&n.date<=t),o=new Map;r.forEach(e=>{let t=e.date.substring(0,7);o.has(t)||o.set(t,{month:t,income:0,expense:0,balance:0});let n=o.get(t);"income"===e.type?n.income+=e.amount:n.expense+=e.amount,n.balance=n.income-n.expense}),d(Array.from(o.values()).sort((e,t)=>e.month.localeCompare(t.month)));let s=r.filter(e=>"expense"===e.type),l=new Map;s.forEach(e=>{l.has(e.category)||l.set(e.category,{total:0,count:0,values:[]});let t=l.get(e.category);t.total+=e.amount,t.count+=1,t.values.push(e.amount)});let c=Array.from(l.entries()).map(e=>{let[t,n]=e,r=n.total/n.count,o=Math.floor(n.values.length/2),a=n.values.slice(0,o).reduce((e,t)=>e+t,0)/o||0,i=n.values.slice(o).reduce((e,t)=>e+t,0)/(n.values.length-o)||0;return{category:t,amount:n.total,count:n.count,average:r,trend:(i-a)/a*100||0}});g(c.sort((e,t)=>t.amount-e.amount));let p=[];l.forEach((e,t)=>{let n=e.total/e.count,o=Math.sqrt(e.values.reduce((e,t)=>e+Math.pow(t-n,2),0)/e.count);r.forEach(e=>{"expense"===e.type&&e.category===t&&e.amount>n+1.5*o&&p.push(e)})}),m(p.sort((e,t)=>t.amount-e.amount).slice(0,10)),y(c.filter(e=>e.average>100).map(e=>({category:e.category,amount:e.amount,savings:Math.round(.2*e.amount*12)})).sort((e,t)=>t.savings-e.savings)),j(!1)};return(0,r.jsxs)("div",{style:{padding:"".concat(u.YK.lg," 0")},children:[(0,r.jsx)("div",{style:{marginBottom:u.YK.xl,display:"flex",gap:u.YK.md,flexWrap:"wrap"},children:Object.entries({"current-month":"Este M\xeas","last-month":"M\xeas Passado","last-3-months":"\xdaltimos 3 Meses","last-6-months":"\xdaltimos 6 Meses","last-year":"\xdaltimo Ano","all-time":"Desde o In\xedcio"}).map(e=>{let[t,n]=e;return(0,r.jsx)("button",{onClick:()=>s(t),style:{padding:"".concat(u.YK.sm," ").concat(u.YK.lg),borderRadius:u.Vq.lg,border:a===t?"2px solid ".concat(u.Tj.primary[600]):"1px solid ".concat(u.Tj.secondary[200]),background:a===t?u.Tj.primary[50]:"white",color:a===t?u.Tj.primary[600]:u.Tj.secondary[700],fontWeight:a===t?600:400,cursor:"pointer",transition:u.bm.normal,fontSize:u.Il.body.fontSize},onMouseOver:e=>{a!==t&&(e.target.style.background=u.Tj.secondary[50],e.target.style.borderColor=u.Tj.secondary[300])},onMouseOut:e=>{a!==t&&(e.target.style.background="white",e.target.style.borderColor=u.Tj.secondary[200])},children:n},t)})}),h?(0,r.jsx)("p",{style:{textAlign:"center",color:u.Tj.secondary[500]},children:"Analisando dados..."}):(0,r.jsxs)(r.Fragment,{children:[l.length>1&&(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.primary[100]),padding:u.YK.lg,marginBottom:u.YK.lg},children:[(0,r.jsx)("h3",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.lg},children:"\uD83D\uDCCA Compara\xe7\xe3o M\xeas a M\xeas"}),(0,r.jsx)("div",{style:{display:"grid",gap:u.YK.md},children:l.slice(-6).reverse().map((e,t)=>{var n,o;let a=l[l.length-2-t],i=a?(n=e.expense,0===(o=a.expense)?100*(n>0):(n-o)/o*100):0,s=i>0;return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:u.YK.md,background:u.Tj.secondary[50],borderRadius:u.Vq.lg,border:"1px solid ".concat(u.Tj.secondary[100]),transition:u.bm.normal},onMouseOver:e=>{e.currentTarget.style.background=u.Tj.primary[50],e.currentTarget.style.boxShadow=u.Eo.sm},onMouseOut:e=>{e.currentTarget.style.background=u.Tj.secondary[50],e.currentTarget.style.boxShadow="none"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{fontSize:u.Il.body.fontSize,fontWeight:600,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.xs},children:new Date(e.month+"-01").toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.lg,fontSize:u.Il.small.fontSize,color:u.Tj.secondary[600]},children:[(0,r.jsxs)("span",{children:["\uD83D\uDCB0 ",e.income.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),(0,r.jsxs)("span",{children:["\uD83D\uDCB8 ",e.expense.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]}),(0,r.jsxs)("div",{style:{textAlign:"right"},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.h4.fontSize,fontWeight:700,color:e.balance>=0?u.Tj.status.success:u.Tj.status.error,margin:0,marginBottom:u.YK.xs},children:e.balance.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),a&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.xs,justifyContent:"flex-end"},children:[s?(0,r.jsx)(z.A,{size:16,color:u.Tj.status.error}):(0,r.jsx)(k.A,{size:16,color:u.Tj.status.success}),(0,r.jsxs)("span",{style:{fontSize:u.Il.small.fontSize,color:s?u.Tj.status.error:u.Tj.status.success,fontWeight:600},children:[Math.abs(i).toFixed(1),"%"]})]})]})]},e.month)})})]}),c.length>0&&(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.secondary[100]),padding:u.YK.lg,marginBottom:u.YK.lg},children:[(0,r.jsx)("h3",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.lg},children:"\uD83D\uDCC8 An\xe1lise por Categoria"}),(0,r.jsx)("div",{style:{display:"grid",gap:u.YK.md},children:c.map(e=>{let t=Math.max(...c.map(e=>e.amount)),n=e.amount/t*100;return(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:u.YK.xs},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{fontSize:u.Il.body.fontSize,fontWeight:600,color:u.Tj.secondary[900],margin:0},children:e.category}),(0,r.jsxs)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:0},children:[e.count," transa\xe7\xf5es • M\xe9dia: ",e.average.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),(0,r.jsxs)("div",{style:{textAlign:"right"},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.h4.fontSize,fontWeight:700,color:u.Tj.primary[600],margin:0},children:e.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),0!==e.trend&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.xs,justifyContent:"flex-end",marginTop:u.YK.xs},children:[e.trend>0?(0,r.jsx)(z.A,{size:14,color:u.Tj.status.error}):(0,r.jsx)(k.A,{size:14,color:u.Tj.status.success}),(0,r.jsxs)("span",{style:{fontSize:u.Il.small.fontSize,color:e.trend>0?u.Tj.status.error:u.Tj.status.success,fontWeight:600},children:[Math.abs(e.trend).toFixed(0),"%"]})]})]})]}),(0,r.jsx)("div",{style:{width:"100%",height:"8px",background:u.Tj.secondary[100],borderRadius:u.Vq.full,overflow:"hidden"},children:(0,r.jsx)("div",{style:{height:"100%",width:"".concat(n,"%"),background:u.Tj.primary[500],borderRadius:u.Vq.full,transition:"width ".concat(u.bm.normal)}})})]},e.category)})})]}),p.length>0&&(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"2px solid ".concat(u.Tj.status.warning,"30"),padding:u.YK.lg,marginBottom:u.YK.lg},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.md,marginBottom:u.YK.lg},children:[(0,r.jsx)(Y.A,{size:24,color:u.Tj.status.warning}),(0,r.jsx)("h3",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0},children:"⚠️ Gastos Fora do Padr\xe3o"})]}),(0,r.jsx)("div",{style:{display:"grid",gap:u.YK.sm},children:p.map(e=>(0,r.jsxs)("div",{style:{padding:u.YK.md,background:u.Tj.status.warning+"10",borderRadius:u.Vq.lg,border:"1px solid ".concat(u.Tj.status.warning,"40"),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{fontSize:u.Il.body.fontSize,fontWeight:600,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.xs},children:e.description}),(0,r.jsxs)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:0},children:[e.category," • ",new Date(e.date).toLocaleDateString("pt-BR")]})]}),(0,r.jsx)("p",{style:{fontSize:u.Il.h4.fontSize,fontWeight:700,color:u.Tj.status.warning,margin:0},children:e.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},e.id))})]}),x.length>0&&(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"2px solid ".concat(u.Tj.status.success,"30"),padding:u.YK.lg},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.md,marginBottom:u.YK.lg},children:[(0,r.jsx)(K.A,{size:24,color:u.Tj.status.success}),(0,r.jsx)("h3",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0},children:"\uD83D\uDCA1 Oportunidades de Economia"})]}),(0,r.jsx)("div",{style:{display:"grid",gap:u.YK.md},children:x.map((e,t)=>(0,r.jsxs)("div",{style:{padding:u.YK.lg,background:u.Tj.status.success+"10",borderRadius:u.Vq.lg,border:"1px solid ".concat(u.Tj.status.success,"40"),transition:u.bm.normal},onMouseOver:e=>{e.currentTarget.style.boxShadow=u.Eo.sm},onMouseOut:e=>{e.currentTarget.style.boxShadow="none"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:u.YK.md},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{style:{fontSize:u.Il.h4.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.xs},children:["#",t+1," - ",e.category]}),(0,r.jsxs)("p",{style:{fontSize:u.Il.body.fontSize,color:u.Tj.secondary[600],margin:0},children:["Gasto atual: ",(0,r.jsx)("strong",{children:e.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),(0,r.jsxs)("div",{style:{textAlign:"right"},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:0,marginBottom:u.YK.xs},children:"Economia anual com"}),(0,r.jsx)("p",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.status.success,margin:0},children:"20% de redu\xe7\xe3o"})]})]}),(0,r.jsxs)("div",{style:{padding:u.YK.md,background:"white",borderRadius:u.Vq.lg,textAlign:"center",border:"1px solid ".concat(u.Tj.status.success,"40")},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:0,marginBottom:u.YK.xs},children:"Voc\xea economizaria por ano:"}),(0,r.jsx)("p",{style:{fontSize:"28px",fontWeight:700,color:u.Tj.status.success,margin:0},children:e.savings.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]},e.category))})]})]})]})}var I=n(17215),R=n(7013);let B=["Alimenta\xe7\xe3o","Transporte","Habita\xe7\xe3o","Sa\xfade","Educa\xe7\xe3o","Lazer","Outros"],E=["Sal\xe1rio","Freelance","Investimentos","Outros"];function A(e){let{onTransactionAdded:t}=e,[n,a]=(0,o.useState)("expense"),[s,l]=(0,o.useState)(""),[d,c]=(0,o.useState)(""),[g,p]=(0,o.useState)(B[0]),[m,x]=(0,o.useState)(new Date().toISOString().split("T")[0]),[h,j]=(0,o.useState)(""),[b,f]=(0,o.useState)(!1),[T,v]=(0,o.useState)("");(0,o.useEffect)(()=>{(async()=>{let e=await (0,i.HW)();e&&v(e.id)})()},[]);let S="expense"===n?B:E,w=async e=>{if(e.preventDefault(),j(""),!s||!d||!T){j("Preencha todos os campos"),console.error("[TransactionForm] Campos obrigat\xf3rios:",{description:s,amount:d,userId:T});return}f(!0),console.log("[TransactionForm] Adicionando transa\xe7\xe3o:",{userId:T,description:s,amount:d,type:n,category:g});let{error:r}=await (0,i.yY)({user_id:T,description:s,amount:parseFloat(d),type:n,category:"income"===n?"Receita":g,date:m});r?(console.error("[TransactionForm] Erro ao adicionar:",r),j(r.message)):(console.log("[TransactionForm] Transa\xe7\xe3o adicionada com sucesso"),l(""),c(""),p("expense"===n?B[0]:E[0]),x(new Date().toISOString().split("T")[0]),null==t||t()),f(!1)};return(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.primary[100]),padding:"".concat(u.YK.lg," ").concat(u.YK.md),height:"fit-content"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.md,marginBottom:u.YK.md},children:[(0,r.jsx)("div",{style:{width:"40px",height:"40px",background:u.Tj.primary[100],borderRadius:u.Vq.lg,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(y.A,{size:20,color:u.Tj.primary[600]})}),(0,r.jsx)("h2",{style:{fontSize:"18px",fontWeight:700,color:u.Tj.secondary[900],margin:0},children:"Adicionar Transa\xe7\xe3o"})]}),(0,r.jsxs)("form",{onSubmit:w,children:[(0,r.jsx)("div",{style:{marginBottom:u.YK.md},children:(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:u.YK.sm},children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{a("expense"),p(B[0])},style:{padding:"".concat(u.YK.sm," ").concat(u.YK.md),background:"expense"===n?u.Tj.status.error+"20":u.Tj.secondary[100],border:"expense"===n?"2px solid ".concat(u.Tj.status.error):"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,color:"expense"===n?u.Tj.status.error:u.Tj.secondary[600],fontWeight:600,fontSize:"13px",cursor:"pointer",transition:u.bm.normal,display:"flex",alignItems:"center",justifyContent:"center",gap:u.YK.xs},onMouseEnter:e=>{"expense"!==n&&(e.currentTarget.style.background=u.Tj.secondary[200])},onMouseLeave:e=>{"expense"!==n&&(e.currentTarget.style.background=u.Tj.secondary[100])},children:[(0,r.jsx)(I.A,{size:16}),"Despesa"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{a("income"),p(E[0])},style:{padding:"".concat(u.YK.sm," ").concat(u.YK.md),background:"income"===n?u.Tj.status.success+"20":u.Tj.secondary[100],border:"income"===n?"2px solid ".concat(u.Tj.status.success):"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,color:"income"===n?u.Tj.status.success:u.Tj.secondary[600],fontWeight:600,fontSize:"13px",cursor:"pointer",transition:u.bm.normal,display:"flex",alignItems:"center",justifyContent:"center",gap:u.YK.xs},onMouseEnter:e=>{"income"!==n&&(e.currentTarget.style.background=u.Tj.secondary[200])},onMouseLeave:e=>{"income"!==n&&(e.currentTarget.style.background=u.Tj.secondary[100])},children:[(0,r.jsx)(R.A,{size:16}),"Receita"]})]})}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.xs},children:"Descri\xe7\xe3o"}),(0,r.jsx)("div",{style:{position:"relative"},children:(0,r.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"expense"===n?"Ex: Caf\xe9":"Ex: Sal\xe1rio",style:{width:"100%",padding:"".concat(u.YK.sm," ").concat(u.YK.md),fontSize:"14px",border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,backgroundColor:u.Tj.background.light,fontFamily:"inherit",transition:u.bm.normal,boxSizing:"border-box"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[500],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[50])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"}})})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.xs},children:"Valor (R$)"}),(0,r.jsx)("input",{type:"number",value:d,onChange:e=>c(e.target.value),placeholder:"0.00",step:"0.01",min:"0",style:{width:"100%",padding:"".concat(u.YK.sm," ").concat(u.YK.md),fontSize:"14px",border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,backgroundColor:u.Tj.background.light,fontFamily:"inherit",transition:u.bm.normal,boxSizing:"border-box"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[500],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[50])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.xs},children:"Categoria"}),(0,r.jsx)("select",{value:g,onChange:e=>p(e.target.value),style:{width:"100%",padding:"".concat(u.YK.sm," ").concat(u.YK.md),fontSize:"14px",border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,backgroundColor:u.Tj.background.light,color:u.Tj.secondary[900],fontFamily:"inherit",transition:u.bm.normal,cursor:"pointer",boxSizing:"border-box"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[500],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[50])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"},children:S.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.md},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.sm},children:"Data"}),(0,r.jsx)("input",{type:"date",value:m,onChange:e=>x(e.target.value),style:{width:"100%",padding:"".concat(u.YK.md," ").concat(u.YK.md),fontSize:u.Il.body.fontSize,border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,backgroundColor:u.Tj.background.light,color:u.Tj.secondary[900],fontFamily:"inherit",transition:u.bm.normal,cursor:"pointer",boxSizing:"border-box"},onFocus:e=>{e.currentTarget.style.borderColor=u.Tj.primary[500],e.currentTarget.style.boxShadow="0 0 0 3px ".concat(u.Tj.primary[50])},onBlur:e=>{e.currentTarget.style.borderColor=u.Tj.secondary[200],e.currentTarget.style.boxShadow="none"}})]}),h&&(0,r.jsx)("div",{style:{background:u.Tj.status.error+"15",border:"1px solid ".concat(u.Tj.status.error),borderRadius:u.Vq.lg,padding:u.YK.md,marginBottom:u.YK.lg,color:u.Tj.status.error,fontSize:u.Il.small.fontSize,fontWeight:500},children:h}),(0,r.jsx)("button",{type:"submit",disabled:b,style:{width:"100%",padding:"".concat(u.YK.md," ").concat(u.YK.lg),background:b?u.Tj.secondary[300]:"linear-gradient(135deg, ".concat(u.Tj.primary[500]," 0%, ").concat(u.Tj.primary[600]," 100%)"),color:u.Tj.background.light,border:"none",borderRadius:u.Vq.lg,fontSize:u.Il.label.fontSize,fontWeight:600,cursor:b?"not-allowed":"pointer",transition:u.bm.normal,boxShadow:b?"none":u.Eo.blue,opacity:b?.6:1},onMouseEnter:e=>{b||(e.currentTarget.style.boxShadow=u.Eo.lg,e.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:e=>{b||(e.currentTarget.style.boxShadow=u.Eo.blue,e.currentTarget.style.transform="translateY(0)")},children:b?"Adicionando...":"Adicionar Transa\xe7\xe3o"})]})]})}var W=n(80534);let D={"current-month":"Este M\xeas","last-month":"M\xeas Passado","last-3-months":"\xdaltimos 3 Meses","last-6-months":"\xdaltimos 6 Meses","last-year":"\xdaltimo Ano","all-time":"Desde o In\xedcio"};function q(e){let{transactions:t,userId:n}=e,[a,u]=(0,o.useState)("overview"),[h,j]=(0,o.useState)("current-month"),[b,T]=(0,o.useState)([]),[v,S]=(0,o.useState)([]),[Y,K]=(0,o.useState)(0),[I,R]=(0,o.useState)(0),[B,E]=(0,o.useState)(0),[q,V]=(0,o.useState)(!1),[M,F]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let{startDate:e,endDate:n}=(0,i.F3)(h),r=t.filter(t=>t.date>=e&&t.date<=n);T(r);let o=0,a=0;r.forEach(e=>{"income"===e.type?o+=e.amount:a+=e.amount}),K(o),R(a),E(o-a),S([{name:"Receitas",value:o},{name:"Despesas",value:a}])},[t,h]),(0,r.jsxs)("div",{style:{width:"100%",overflow:"hidden"},children:[(0,r.jsx)("style",{children:"\n        .dashboard-container {\n          width: 100%;\n          padding: 12px;\n        }\n        \n        @media (min-width: 480px) {\n          .dashboard-container {\n            padding: 16px;\n          }\n        }\n        \n        @media (min-width: 768px) {\n          .dashboard-container {\n            padding: 24px;\n          }\n        }\n\n        /* Quick Transaction Form */\n        .quick-transaction-section {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          border-radius: 12px;\n          padding: 16px;\n          margin-bottom: 16px;\n          color: white;\n          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n        }\n\n        @media (min-width: 480px) {\n          .quick-transaction-section {\n            padding: 20px;\n            margin-bottom: 20px;\n          }\n        }\n\n        @media (min-width: 768px) {\n          .quick-transaction-section {\n            padding: 24px;\n            margin-bottom: 24px;\n          }\n        }\n\n        .transaction-title {\n          font-size: 16px;\n          font-weight: 700;\n          margin: 0 0 12px 0;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        @media (min-width: 480px) {\n          .transaction-title {\n            font-size: 18px;\n            margin-bottom: 16px;\n          }\n        }\n\n        /* Pricing Banner */\n        .pricing-banner {\n          background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);\n          border-radius: 12px;\n          padding: 16px;\n          margin-bottom: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 12px;\n          box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);\n        }\n\n        @media (min-width: 480px) {\n          .pricing-banner {\n            padding: 20px;\n            margin-bottom: 20px;\n            gap: 16px;\n          }\n        }\n\n        @media (min-width: 768px) {\n          .pricing-banner {\n            padding: 24px;\n            margin-bottom: 24px;\n            gap: 20px;\n          }\n        }\n\n        .pricing-content {\n          flex: 1;\n        }\n\n        .pricing-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #92400e;\n          margin: 0 0 4px 0;\n        }\n\n        @media (min-width: 480px) {\n          .pricing-title {\n            font-size: 17px;\n            margin-bottom: 6px;\n          }\n        }\n\n        .pricing-description {\n          font-size: 13px;\n          color: #b45309;\n          margin: 0;\n        }\n\n        @media (min-width: 480px) {\n          .pricing-description {\n            font-size: 14px;\n          }\n        }\n\n        .pricing-button {\n          background: white;\n          color: #f59e0b;\n          border: none;\n          border-radius: 8px;\n          padding: 8px 16px;\n          font-weight: 700;\n          font-size: 13px;\n          cursor: pointer;\n          white-space: nowrap;\n          transition: all 0.2s;\n          flex-shrink: 0;\n        }\n\n        @media (min-width: 480px) {\n          .pricing-button {\n            padding: 10px 20px;\n            font-size: 14px;\n          }\n        }\n\n        .pricing-button:hover {\n          background: #fef3c7;\n          transform: translateY(-2px);\n        }\n\n        /* Period Filter */\n        .period-filter {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n          align-items: center;\n          margin-bottom: 20px;\n          margin-top: 16px;\n        }\n\n        .period-filter button {\n          padding: 6px 10px;\n          border-radius: 8px;\n          border: 1px solid #e5e7eb;\n          background: white;\n          color: #374151;\n          font-size: 11px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n          min-height: 36px;\n          white-space: nowrap;\n          flex-shrink: 0;\n        }\n\n        .period-filter button:hover {\n          background: #f9fafb;\n          border-color: #d1d5db;\n        }\n\n        .period-filter button.active {\n          background: #f0f5ff;\n          border: 2px solid #2563eb;\n          color: #2563eb;\n          font-weight: 600;\n        }\n\n        @media (min-width: 480px) {\n          .period-filter button {\n            padding: 8px 12px;\n            font-size: 12px;\n          }\n        }\n\n        /* Stats Grid */\n        .stats-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 12px;\n          margin-bottom: 20px;\n        }\n\n        @media (min-width: 480px) {\n          .stats-grid {\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n          }\n        }\n\n        @media (min-width: 768px) {\n          .stats-grid {\n            grid-template-columns: 1fr 1fr 1fr;\n            gap: 16px;\n            margin-bottom: 24px;\n          }\n        }\n\n        /* Chart Section */\n        .chart-section {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          border: 1px solid #e0ebff;\n          padding: 16px;\n          margin-bottom: 20px;\n        }\n\n        @media (min-width: 768px) {\n          .chart-section {\n            padding: 20px;\n            margin-bottom: 24px;\n          }\n        }\n\n        .chart-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .chart-icon {\n          width: 44px;\n          height: 44px;\n          background: #e0ebff;\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .chart-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #111827;\n          margin: 0;\n        }\n\n        @media (min-width: 768px) {\n          .chart-title {\n            font-size: 24px;\n          }\n        }\n\n        .chart-container {\n          width: 100%;\n          height: 200px;\n        }\n\n        @media (min-width: 480px) {\n          .chart-container {\n            height: 250px;\n          }\n        }\n\n        @media (min-width: 768px) {\n          .chart-container {\n            height: 300px;\n          }\n        }\n\n        /* Tabs */\n        .tabs-container {\n          border-bottom: 2px solid #e5e7eb;\n          display: flex;\n          gap: 12px;\n          margin-bottom: 20px;\n          flex-wrap: wrap;\n        }\n\n        @media (min-width: 768px) {\n          .tabs-container {\n            margin-bottom: 24px;\n          }\n        }\n\n        .tab-button {\n          padding: 12px 16px;\n          background: none;\n          border: none;\n          font-size: 14px;\n          font-weight: 500;\n          color: #6b7280;\n          cursor: pointer;\n          border-bottom: 3px solid transparent;\n          margin-bottom: -2px;\n          transition: all 0.2s;\n          white-space: nowrap;\n        }\n\n        @media (min-width: 480px) {\n          .tab-button {\n            padding: 14px 20px;\n            font-size: 15px;\n          }\n        }\n\n        .tab-button.active {\n          color: #2563eb;\n          border-bottom-color: #2563eb;\n          font-weight: 700;\n        }\n\n        /* Features Grid */\n        .features-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 12px;\n        }\n\n        @media (min-width: 768px) {\n          .features-grid {\n            grid-template-columns: 1fr 1fr;\n            gap: 16px;\n          }\n        }\n\n        /* Transaction Form Modal */\n        .transaction-form-overlay {\n          position: fixed;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.5);\n          z-index: 40;\n          animation: fadeIn 0.2s ease;\n        }\n\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .transaction-form-modal {\n          position: fixed;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          width: 100%;\n          max-height: 90vh;\n          background: white;\n          border-radius: 16px 16px 0 0;\n          box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.15);\n          z-index: 50;\n          overflow-y: auto;\n          animation: slideUp 0.3s ease;\n        }\n\n        @keyframes slideUp {\n          from { transform: translateY(100%); }\n          to { transform: translateY(0); }\n        }\n\n        @media (min-width: 768px) {\n          .transaction-form-overlay {\n            background: rgba(0, 0, 0, 0.3);\n          }\n\n          .transaction-form-modal {\n            position: absolute;\n            bottom: auto;\n            max-height: none;\n            width: auto;\n            border-radius: 12px;\n            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);\n            animation: slideDown 0.3s ease;\n          }\n\n          @keyframes slideDown {\n            from {\n              opacity: 0;\n              transform: translateY(-20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n        }\n\n        .transaction-form-header {\n          padding: 16px;\n          border-bottom: 1px solid #e5e7eb;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          position: sticky;\n          top: 0;\n          background: white;\n          border-radius: 16px 16px 0 0;\n          z-index: 1;\n        }\n\n        @media (min-width: 480px) {\n          .transaction-form-header {\n            padding: 20px;\n          }\n        }\n\n        .transaction-form-content {\n          padding: 16px;\n        }\n\n        @media (min-width: 480px) {\n          .transaction-form-content {\n            padding: 20px;\n          }\n        }\n\n        .close-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6b7280;\n          font-size: 24px;\n          padding: 0;\n          width: 32px;\n          height: 32px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      "}),(0,r.jsxs)("div",{className:"dashboard-container",children:[(0,r.jsxs)("div",{className:"quick-transaction-section",children:[(0,r.jsxs)("h3",{className:"transaction-title",children:[(0,r.jsx)(y.A,{size:20}),"Nova Transa\xe7\xe3o"]}),(0,r.jsx)("button",{onClick:()=>V(!0),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.2)",border:"2px dashed rgba(255, 255, 255, 0.5)",color:"white",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.3)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.7)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.5)"},children:"+ Adicionar Transa\xe7\xe3o"})]}),(0,r.jsxs)("div",{className:"pricing-banner",children:[(0,r.jsxs)("div",{className:"pricing-content",children:[(0,r.jsx)("h4",{className:"pricing-title",children:"\uD83D\uDCB3 Plano Pro Dispon\xedvel"}),(0,r.jsx)("p",{className:"pricing-description",children:"Desbloqueie an\xe1lises com IA e sugest\xf5es de economia"})]}),(0,r.jsx)("button",{onClick:()=>window.location.href="/pricing",className:"pricing-button",children:"Ver Planos"})]}),"overview"===a&&(0,r.jsxs)("div",{className:"period-filter",children:[(0,r.jsx)("span",{style:{fontSize:"12px",fontWeight:600,color:"#374151",whiteSpace:"nowrap",flexShrink:0},children:"\uD83D\uDCC5 Per\xedodo:"}),Object.entries(D).map(e=>{let[t,n]=e;return(0,r.jsx)("button",{onClick:()=>j(t),className:"".concat(h===t?"active":""),children:n},t)})]}),(0,r.jsxs)("div",{className:"stats-grid",children:[(0,r.jsx)(x,{title:"Receitas",value:"R$ ".concat(Y.toFixed(2)),icon:(0,r.jsx)(k.A,{size:24,color:"#10b981"}),backgroundColor:"#d1fae520",trend:5,subtitle:"\xdaltima semana"}),(0,r.jsx)(x,{title:"Despesas",value:"R$ ".concat(I.toFixed(2)),icon:(0,r.jsx)(z.A,{size:24,color:"#ef4444"}),backgroundColor:"#fee2e220",trend:-3,subtitle:"\xdaltima semana"}),(0,r.jsx)(x,{title:"Saldo",value:"R$ ".concat(B.toFixed(2)),icon:(0,r.jsx)(W.A,{size:24,color:"#2563eb"}),backgroundColor:"#dbeafe",subtitle:"Dispon\xedvel",trend:B>0?8:-2})]}),(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsxs)("div",{className:"chart-header",children:[(0,r.jsx)("div",{className:"chart-icon",children:(0,r.jsx)(W.A,{size:20,color:"#2563eb"})}),(0,r.jsx)("h2",{className:"chart-title",children:"Receitas vs Despesas"})]}),v.length>0&&(v[0].value>0||v[1].value>0)?(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)(s.u,{width:"100%",height:"100%",children:(0,r.jsxs)(l.E,{data:v,children:[(0,r.jsx)(d.d,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(c.W,{dataKey:"name",stroke:"#6b7280",fontSize:12}),(0,r.jsx)(g.h,{stroke:"#6b7280",fontSize:12}),(0,r.jsx)(p.m,{formatter:e=>"R$ ".concat(e.toFixed(2)),contentStyle:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),(0,r.jsx)(m.y,{dataKey:"value",fill:"#3b82f6",radius:[8,8,0,0]})]})})}):(0,r.jsx)("p",{style:{color:"#9ca3af",textAlign:"center",padding:"32px 0",margin:0,fontSize:"14px"},children:"Sem dados"})]}),(0,r.jsxs)("div",{className:"tabs-container",children:[(0,r.jsx)("button",{onClick:()=>u("overview"),className:"tab-button ".concat("overview"===a?"active":""),children:"\uD83D\uDCCA Vis\xe3o Geral"}),(0,r.jsx)("button",{onClick:()=>u("insights"),className:"tab-button ".concat("insights"===a?"active":""),children:"\uD83D\uDCA1 Insights"})]}),"overview"===a&&(0,r.jsxs)("div",{className:"features-grid",children:[(0,r.jsx)(f,{userId:n}),(0,r.jsx)(w,{userId:n})]}),"insights"===a&&(0,r.jsx)(C,{userId:n,allTransactions:t}),q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"transaction-form-overlay",onClick:()=>V(!1)}),(0,r.jsxs)("div",{className:"transaction-form-modal",children:[(0,r.jsxs)("div",{className:"transaction-form-header",children:[(0,r.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:700},children:"➕ Adicionar Transa\xe7\xe3o"}),(0,r.jsx)("button",{className:"close-button",onClick:()=>V(!1),title:"Fechar",children:"✕"})]}),(0,r.jsx)("div",{className:"transaction-form-content",children:(0,r.jsx)(A,{onTransactionAdded:()=>{V(!1),F(e=>e+1)}})})]})]})]})]})}var V=n(36382),M=n(16485),F=n(45345),_=n(21190);function O(e){let{transactions:t}=e,[n,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),[d,c]=(0,o.useState)({}),[g,p]=(0,o.useState)(!1),m=async e=>{confirm("Tem certeza que deseja deletar esta transa\xe7\xe3o?")&&(a(e),await (0,i.Uw)(e),a(null),window.location.reload())},x=async()=>{s&&(p(!0),await (0,i.AF)(s,d),l(null),c({}),p(!1),window.location.reload())};return(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.primary[100]),overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{padding:"clamp(12px, 2vw, 24px) clamp(12px, 3vw, 32px)",borderBottom:"1px solid ".concat(u.Tj.primary[100]),display:"flex",alignItems:"center",gap:"clamp(12px, 2vw, 16px)"},children:[(0,r.jsx)("div",{style:{width:"clamp(36px, 8vw, 44px)",height:"clamp(36px, 8vw, 44px)",background:u.Tj.primary[100],borderRadius:u.Vq.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,r.jsx)(M.A,{size:20,color:u.Tj.primary[600]})}),(0,r.jsx)("h2",{style:{fontSize:"clamp(16px, 4vw, 24px)",fontWeight:700,color:u.Tj.secondary[900],margin:0},children:"Transa\xe7\xf5es Recentes"})]}),(0,r.jsx)("div",{children:0===t.length?(0,r.jsx)("div",{style:{padding:"clamp(32px, 6vw, 48px)",textAlign:"center",color:u.Tj.secondary[400]},children:(0,r.jsx)("p",{style:{fontSize:"clamp(12px, 2vw, 14px)",margin:0},children:"Nenhuma transa\xe7\xe3o registrada"})}):(0,r.jsx)("div",{children:t.map((e,o)=>{let a;return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"clamp(12px, 2vw, 16px) clamp(12px, 3vw, 32px)",borderBottom:o<t.length-1?"1px solid ".concat(u.Tj.secondary[100]):"none",transition:u.bm.normal,flexWrap:"wrap",gap:"clamp(8px, 2vw, 12px)"},onMouseEnter:e=>{e.currentTarget.style.background=u.Tj.secondary[50]},onMouseLeave:e=>{e.currentTarget.style.background=u.Tj.background.light},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"clamp(12px, 2vw, 16px)",flex:1,minWidth:0},children:[(0,r.jsx)("div",{style:{width:"clamp(40px, 10vw, 48px)",height:"clamp(40px, 10vw, 48px)",background:"income"===e.type?u.Tj.status.success+"20":u.Tj.status.error+"20",borderRadius:u.Vq.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:"income"===e.type?(0,r.jsx)(R.A,{size:20,color:u.Tj.status.success}):(0,r.jsx)(I.A,{size:20,color:u.Tj.status.error})}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,r.jsx)("p",{style:{fontSize:"clamp(13px, 2vw, 14px)",fontWeight:600,color:u.Tj.secondary[900],margin:0,marginBottom:"clamp(4px, 1vw, 6px)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.description}),(0,r.jsxs)("div",{style:{display:"flex",gap:"clamp(8px, 2vw, 12px)",alignItems:"center",flexWrap:"wrap"},children:[(0,r.jsxs)("span",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:u.Tj.secondary[500],display:"flex",alignItems:"center",gap:"clamp(4px, 1vw, 6px)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[(0,r.jsx)(F.A,{size:12}),e.category]}),(0,r.jsxs)("span",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:u.Tj.secondary[500],display:"flex",alignItems:"center",gap:"clamp(4px, 1vw, 6px)",whiteSpace:"nowrap"},children:[(0,r.jsx)(M.A,{size:14}),new Date(e.date).toLocaleDateString("pt-BR")]})]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.lg,marginLeft:u.YK.lg},children:[(0,r.jsx)("div",{style:{textAlign:"right",minWidth:"120px"},children:(0,r.jsxs)("p",{style:{fontSize:"18px",fontWeight:700,color:"income"===e.type?u.Tj.status.success:u.Tj.status.error,margin:0},children:["income"===e.type?"+":"-"," ",(a=e.amount,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a))]})}),(0,r.jsx)("button",{onClick:()=>m(e.id),disabled:n===e.id,style:{width:"40px",height:"40px",background:u.Tj.status.error+"15",border:"1px solid ".concat(u.Tj.status.error,"20"),borderRadius:u.Vq.lg,color:u.Tj.status.error,cursor:n===e.id?"not-allowed":"pointer",transition:u.bm.normal,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,opacity:n===e.id?.6:1},onMouseEnter:t=>{n!==e.id&&(t.currentTarget.style.background=u.Tj.status.error+"25",t.currentTarget.style.borderColor=u.Tj.status.error+"40")},onMouseLeave:t=>{n!==e.id&&(t.currentTarget.style.background=u.Tj.status.error+"15",t.currentTarget.style.borderColor=u.Tj.status.error+"20")},children:(0,r.jsx)(h.A,{size:18})}),(0,r.jsx)("button",{onClick:()=>{l(e.id),c({description:e.description,amount:e.amount,category:e.category,date:e.date,type:e.type})},style:{width:"40px",height:"40px",background:u.Tj.primary[100],border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,color:u.Tj.primary[600],cursor:"pointer",transition:u.bm.normal,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseEnter:e=>{e.currentTarget.style.background=u.Tj.primary[200],e.currentTarget.style.borderColor=u.Tj.primary[300]},onMouseLeave:e=>{e.currentTarget.style.background=u.Tj.primary[100],e.currentTarget.style.borderColor=u.Tj.primary[200]},children:(0,r.jsx)(_.A,{size:18})})]})]},e.id)})})}),s&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>l(null),children:(0,r.jsxs)("div",{style:{backgroundColor:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.lg,padding:u.YK.xl,maxWidth:"500px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.lg},children:"✏️ Editar Transa\xe7\xe3o"}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.lg},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.xs},children:"Descri\xe7\xe3o"}),(0,r.jsx)("input",{type:"text",value:d.description||"",onChange:e=>c({...d,description:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,fontFamily:"inherit",boxSizing:"border-box"}})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.lg},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.xs},children:"Valor (R$)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:d.amount||"",onChange:e=>c({...d,amount:parseFloat(e.target.value)}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,fontFamily:"inherit",boxSizing:"border-box"}})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.lg},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.xs},children:"Categoria"}),(0,r.jsxs)("select",{value:d.category||"",onChange:e=>c({...d,category:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,fontFamily:"inherit",boxSizing:"border-box",backgroundColor:u.Tj.background.light,color:u.Tj.secondary[900],cursor:"pointer"},children:[(0,r.jsx)("option",{value:"",children:"Selecione uma categoria"}),(()=>{let e=new Set;return t.forEach(t=>{t.category&&e.add(t.category)}),Array.from(e).sort()})().map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{style:{marginBottom:u.YK.lg},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[900],marginBottom:u.YK.xs},children:"Data"}),(0,r.jsx)("input",{type:"date",value:d.date||"",onChange:e=>c({...d,date:e.target.value}),style:{width:"100%",padding:u.YK.md,border:"1px solid ".concat(u.Tj.primary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,fontFamily:"inherit",boxSizing:"border-box"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.md,justifyContent:"flex-end"},children:[(0,r.jsx)("button",{onClick:()=>l(null),disabled:g,style:{padding:"".concat(u.YK.md," ").concat(u.YK.lg),border:"1px solid ".concat(u.Tj.primary[200]),background:u.Tj.background.light,borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,fontWeight:600,color:u.Tj.primary[600],cursor:g?"not-allowed":"pointer",transition:u.bm.normal,opacity:g?.6:1},onMouseEnter:e=>{g||(e.currentTarget.style.background=u.Tj.primary[50])},onMouseLeave:e=>{g||(e.currentTarget.style.background=u.Tj.background.light)},children:"Cancelar"}),(0,r.jsx)("button",{onClick:x,disabled:g,style:{padding:"".concat(u.YK.md," ").concat(u.YK.lg),background:u.Tj.primary[600],border:"none",borderRadius:u.Vq.lg,fontSize:u.Il.body.fontSize,fontWeight:600,color:"white",cursor:g?"not-allowed":"pointer",transition:u.bm.normal,opacity:g?.6:1},onMouseEnter:e=>{g||(e.currentTarget.style.background=u.Tj.primary[700])},onMouseLeave:e=>{g||(e.currentTarget.style.background=u.Tj.primary[600])},children:g?"Salvando...":"Salvar"})]})]})}),"    "]})}var L=n(21786),N=n(89715),P=n(42348),$=n(42529);function H(e){let{onTransactionsAdded:t}=e,[n,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),[g,p]=(0,o.useState)([]),[m,x]=(0,o.useState)(!1),[y,h]=(0,o.useState)(""),[j,b]=(0,o.useState)(""),[f,T]=(0,o.useState)(new Set),[v,S]=(0,o.useState)("all"),[w,z]=(0,o.useState)(0),[k]=(0,o.useState)(2),[K,C]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{try{let e=await (0,i.HW)();if(!e)return;let{role:t}=await (0,i.uG)(e.id);C("admin"===t);let n=new Date,r="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0")),{data:o}=await (0,i.M1)(e.id,r);z((null==o?void 0:o.usage_count)||0)}catch(e){console.error("Error checking analysis usage:",e)}})()},[g]);let I=async()=>{if(!n)return void h("Selecione um arquivo primeiro");if(!K&&w>=k)return void h("❌ Voc\xea atingiu o limite de ".concat(k," an\xe1lises este m\xeas. Adquira o plano Pro para an\xe1lises ilimitadas!"));l(!0),c(!0),h("");try{let e=await n.text(),t=n.name.toLowerCase(),r=t.endsWith(".csv"),o=t.endsWith(".ofx")||t.endsWith(".txt"),a=t.endsWith(".pdf");if(!r&&!o&&!a){h("Arquivo deve ser CSV, OFX ou PDF"),l(!1),c(!1);return}let s=e;r?s=e.split("\n").map(e=>(e.match(/("([^"]*)"|[^,]+)/g)||[]).map(e=>e.replace(/^"|"$/g,"").trim())).map(e=>e.join(" | ")).join("\n"):o&&(s=function(e){let t=[];return(e.match(/<STMTTRN>[\s\S]*?<\/STMTTRN>/g)||[]).forEach(e=>{var n,r,o,a;let i=(null==(n=e.match(/<TRNTYPE>([^<]+)<\/TRNTYPE>/))?void 0:n[1])||"DEBIT",s=(null==(r=e.match(/<DTPOSTED>([^<]+)<\/DTPOSTED>/))?void 0:r[1])||"",l=(null==(o=e.match(/<TRNAMT>([^<]+)<\/TRNAMT>/))?void 0:o[1])||"0",d=(null==(a=e.match(/<MEMO>([^<]+)<\/MEMO>/))?void 0:a[1])||"Transaction";t.push("".concat(s," | ").concat(i," | ").concat(l," | ").concat(d))}),t.join("\n")}(e));let d=await fetch("/api/analyze-gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileContent:s})});if(!d.ok){let e=await d.json();throw Error(e.error||"Erro ao analisar com IA")}let g=(await d.json()).transactions;if(0===g.length){h("Nenhuma transa\xe7\xe3o encontrada no arquivo"),l(!1),c(!1);return}try{let e=await (0,i.HW)();if(e){let t=new Date,n="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"));await (0,i.fE)(e.id,n),z(e=>e+1)}}catch(e){console.error("Error incrementing analysis usage:",e)}p(g),T(new Set(Array.from({length:g.length},(e,t)=>t))),b("".concat(g.length," transa\xe7\xf5es encontradas!"))}catch(e){h(e instanceof Error?e.message:"Erro ao analisar arquivo"),console.error(e)}finally{l(!1),c(!1)}},R=async()=>{if(0===f.size)return void h("Selecione pelo menos uma transa\xe7\xe3o");x(!0),h("");try{let e=await (0,i.HW)();if(!e){h("Usu\xe1rio n\xe3o autenticado"),x(!1);return}let n=0,r=0,o=0;for(let t of Array.from(f)){let a=g[t];if("all"!==v&&a.type!==v){o++;continue}try{let{error:t}=await (0,i.yY)({user_id:e.id,description:a.description,amount:a.amount,type:a.type,category:a.category,date:a.date});t?(r++,console.error("Erro inserindo transa\xe7\xe3o: ".concat(a.description),t)):n++}catch(e){r++,console.error("Erro ao inserir: ".concat(a.description),e)}}b("✅ ".concat(n," transa\xe7\xf5es inseridas com sucesso!").concat(r>0?" (".concat(r," falharam)"):"").concat(o>0?" (".concat(o," ignoradas pelo filtro)"):"")),setTimeout(()=>{a(null),p([]),T(new Set),null==t||t()},2e3)}catch(e){h(e instanceof Error?e.message:"Erro ao inserir transa\xe7\xf5es")}finally{x(!1)}};return(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.primary[100]),padding:u.YK.xl},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.md,marginBottom:u.YK.lg},children:[(0,r.jsx)("div",{style:{width:"44px",height:"44px",background:u.Tj.primary[100],borderRadius:u.Vq.lg,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(L.A,{size:24,color:u.Tj.primary[600]})}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("h2",{style:{fontSize:u.Il.h4.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0},children:"Importar Extrato Banc\xe1rio"}),(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:"4px 0 0 0"},children:"IA analisa e lan\xe7a automaticamente"})]}),(0,r.jsxs)("div",{style:{padding:"".concat(u.YK.sm," ").concat(u.YK.md),backgroundColor:w>=k&&999999!==k?u.Tj.status.error+"15":u.Tj.primary[50],borderRadius:u.Vq.md,border:"1px solid ".concat(w>=k&&999999!==k?u.Tj.status.error:u.Tj.primary[200]),textAlign:"center"},children:[(0,r.jsx)("p",{style:{...u.Il.label,margin:0,color:u.Tj.secondary[900]},children:K?"∞ Ilimitado":"".concat(w,"/").concat(k," an\xe1lises")}),(0,r.jsx)("p",{style:{...u.Il.small,margin:"".concat(u.YK.xs," 0 0 0"),color:K?u.Tj.status.success:w>=k?u.Tj.status.error:u.Tj.secondary[500]},children:K?"\uD83D\uDC51 Admin - An\xe1lises ilimitadas":w>=k?"❌ Limite atingido":"".concat(k-w," restantes")})]})]}),0===g.length&&(0,r.jsxs)("div",{style:{marginBottom:u.YK.lg},children:[(0,r.jsxs)("label",{style:{display:"block",padding:u.YK.xl,border:"2px dashed ".concat(u.Tj.primary[300]),borderRadius:u.Vq.lg,textAlign:"center",cursor:"pointer",transition:u.bm.normal,background:u.Tj.primary[50]},onDragOver:e=>{e.preventDefault(),e.currentTarget.style.background=u.Tj.primary[100],e.currentTarget.style.borderColor=u.Tj.primary[500]},onDragLeave:e=>{e.currentTarget.style.background=u.Tj.primary[50],e.currentTarget.style.borderColor=u.Tj.primary[300]},onDrop:e=>{var t;e.preventDefault(),e.currentTarget.style.background=u.Tj.primary[50],e.currentTarget.style.borderColor=u.Tj.primary[300];let n=null==(t=e.dataTransfer.files)?void 0:t[0];n&&(a(n),h(""))},children:[(0,r.jsx)(N.A,{size:32,color:u.Tj.primary[500],style:{margin:"0 auto 12px"}}),(0,r.jsx)("p",{style:{fontSize:u.Il.body.fontSize,fontWeight:600,color:u.Tj.secondary[900],margin:"0 0 4px 0"},children:n?n.name:"Arrastar ou clicar para selecionar"}),(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:0},children:"CSV, OFX ou PDF do seu banco"}),(0,r.jsx)("input",{type:"file",accept:".csv,.ofx,.txt,.pdf",onChange:e=>{var t;let n=null==(t=e.target.files)?void 0:t[0];n&&(a(n),h(""),b(""),p([]))},style:{display:"none"}})]}),n&&(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.md,marginTop:u.YK.lg},children:[(0,r.jsxs)("button",{onClick:I,disabled:s||!n,style:{flex:1,padding:"".concat(u.YK.md," ").concat(u.YK.lg),background:s?u.Tj.secondary[300]:"linear-gradient(135deg, ".concat(u.Tj.primary[500]," 0%, ").concat(u.Tj.primary[600]," 100%)"),color:u.Tj.background.light,border:"none",borderRadius:u.Vq.lg,fontSize:u.Il.label.fontSize,fontWeight:600,cursor:s?"not-allowed":"pointer",transition:u.bm.normal,boxShadow:s?"none":u.Eo.blue,opacity:s?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:u.YK.sm},children:[s&&(0,r.jsx)(P.A,{size:18,style:{animation:"spin 1s linear infinite"}}),s?"Analisando...":"Analisar com IA"]}),(0,r.jsx)("button",{onClick:()=>{a(null),h(""),b("")},style:{padding:"".concat(u.YK.md," ").concat(u.YK.lg),background:u.Tj.secondary[100],color:u.Tj.secondary[600],border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg,fontSize:u.Il.label.fontSize,fontWeight:600,cursor:"pointer",transition:u.bm.normal},onMouseEnter:e=>{e.currentTarget.style.background=u.Tj.secondary[200]},onMouseLeave:e=>{e.currentTarget.style.background=u.Tj.secondary[100]},children:"Limpar"})]})]}),y&&(0,r.jsxs)("div",{style:{background:u.Tj.status.error+"15",border:"1px solid ".concat(u.Tj.status.error),borderRadius:u.Vq.lg,padding:u.YK.md,marginBottom:u.YK.lg,color:u.Tj.status.error,fontSize:u.Il.small.fontSize,fontWeight:500,display:"flex",alignItems:"center",gap:u.YK.sm},children:[(0,r.jsx)(Y.A,{size:18}),y]}),j&&g.length>0&&(0,r.jsxs)("div",{style:{background:u.Tj.status.success+"15",border:"1px solid ".concat(u.Tj.status.success),borderRadius:u.Vq.lg,padding:u.YK.md,marginBottom:u.YK.lg,color:u.Tj.status.success,fontSize:u.Il.small.fontSize,fontWeight:500,display:"flex",alignItems:"center",gap:u.YK.sm},children:[(0,r.jsx)($.A,{size:18}),j]}),g.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.md,marginBottom:u.YK.lg,padding:u.YK.md,background:u.Tj.primary[50],borderRadius:u.Vq.lg,alignItems:"center"},children:[(0,r.jsx)("label",{style:{...u.Il.label,color:u.Tj.secondary[900],margin:0},children:"Importar:"}),(0,r.jsxs)("select",{value:v,onChange:e=>S(e.target.value),style:{padding:"".concat(u.YK.sm," ").concat(u.YK.md),border:"1px solid ".concat(u.Tj.primary[300]),borderRadius:u.Vq.md,backgroundColor:u.Tj.background.light,color:u.Tj.secondary[900],fontSize:u.Il.small.fontSize,fontWeight:500,cursor:"pointer"},children:[(0,r.jsx)("option",{value:"all",children:"Ambos (Despesas + Receitas)"}),(0,r.jsx)("option",{value:"expense",children:"Apenas Despesas"}),(0,r.jsx)("option",{value:"income",children:"Apenas Receitas"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:u.YK.md,padding:u.YK.md,background:u.Tj.secondary[50],borderRadius:u.Vq.lg,marginBottom:u.YK.lg,cursor:"pointer"},onClick:()=>void(f.size===g.length?T(new Set):T(new Set(Array.from({length:g.length},(e,t)=>t)))),children:[(0,r.jsx)("input",{type:"checkbox",checked:f.size===g.length,onChange:()=>{},style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,r.jsx)("span",{style:{fontSize:u.Il.label.fontSize,fontWeight:600,color:u.Tj.secondary[900]},children:f.size===g.length?"Desselecionar Tudo":"Selecionar Tudo (".concat(g.length,")")})]}),(0,r.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:u.YK.lg,border:"1px solid ".concat(u.Tj.secondary[200]),borderRadius:u.Vq.lg},children:g.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:u.YK.md,borderBottom:t<g.length-1?"1px solid ".concat(u.Tj.secondary[100]):"none",background:f.has(t)?u.Tj.primary[50]:u.Tj.background.light,cursor:"pointer",transition:u.bm.normal},onClick:()=>(e=>{let t=new Set(f);t.has(e)?t.delete(e):t.add(e),T(t)})(t),children:[(0,r.jsx)("input",{type:"checkbox",checked:f.has(t),onChange:()=>{},style:{width:"18px",height:"18px",marginRight:u.YK.md,cursor:"pointer"}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,fontWeight:600,color:u.Tj.secondary[900],margin:"0 0 4px 0"},children:e.description}),(0,r.jsxs)("div",{style:{display:"flex",gap:u.YK.md,fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500]},children:[(0,r.jsx)("span",{children:e.date}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:e.category})]})]}),(0,r.jsxs)("div",{style:{textAlign:"right",minWidth:"100px"},children:[(0,r.jsxs)("p",{style:{fontSize:"16px",fontWeight:700,color:"income"===e.type?u.Tj.status.success:u.Tj.status.error,margin:0},children:["income"===e.type?"+":"-"," R$ ",e.amount.toFixed(2)]}),(0,r.jsx)("p",{style:{fontSize:"11px",color:u.Tj.secondary[400],margin:"2px 0 0 0",textTransform:"capitalize"},children:"income"===e.type?"Receita":"Despesa"})]})]},t))}),(0,r.jsxs)("button",{onClick:R,disabled:m||0===f.size,style:{width:"100%",padding:"".concat(u.YK.md," ").concat(u.YK.lg),background:m?u.Tj.secondary[300]:"linear-gradient(135deg, ".concat(u.Tj.status.success," 0%, ").concat(u.Tj.status.success,"dd 100%)"),color:u.Tj.background.light,border:"none",borderRadius:u.Vq.lg,fontSize:u.Il.label.fontSize,fontWeight:600,cursor:m||0===f.size?"not-allowed":"pointer",transition:u.bm.normal,boxShadow:m?"none":u.Eo.blue,opacity:m||0===f.size?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:u.YK.sm},children:[m&&(0,r.jsx)(P.A,{size:18,style:{animation:"spin 1s linear infinite"}}),m?"Inserindo...":"Lan\xe7ar ".concat(f.size," Transa\xe7\xf5es")]})]}),(0,r.jsx)("style",{children:"\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n      "})]})}function G(e){let{transactions:t}=e,[n,a]=(0,o.useState)([]),[i,s]=(0,o.useState)(!0);(0,o.useEffect)(()=>{if(!t.length)return void s(!1);let e=[],n=t.filter(e=>"expense"===e.type),r=new Map;n.forEach(e=>{let t="".concat(e.category,"-").concat(e.amount.toFixed(2));r.has(t)||r.set(t,[]),r.get(t).push(e)}),r.forEach((t,n)=>{if(t.length>1){let[r,o]=n.split("-"),a=t.map(e=>new Date(e.date).getTime()),i=[];for(let e=1;e<a.length;e++)i.push((a[e]-a[e-1])/864e5);i.some(e=>e<=3&&e>0)&&e.push({id:"duplicate-".concat(n),type:"duplicate",title:"⚠️ Poss\xedvel Despesa Duplicada",description:"".concat(t.length," transa\xe7\xf5es de ").concat(r," com ").concat(o," em dias pr\xf3ximos"),amount:parseFloat(o)*t.length,severity:"high",transactions:t.map(e=>e.id)})}});let o=new Map;n.forEach(e=>{o.has(e.category)||o.set(e.category,[]),o.get(e.category).push(e.amount)}),o.forEach((t,n)=>{if(t.length>=2){let r=t.reduce((e,t)=>e+t,0)/t.length,o=Math.max(...t);o>2*r&&e.push({id:"high-".concat(n),type:"high_spend",title:"\uD83D\uDCB8 Gasto Elevado em ".concat(n),description:"R$ ".concat(o.toFixed(2)," \xe9 ").concat(((o/r-1)*100).toFixed(0),"% acima da sua m\xe9dia de R$ ").concat(r.toFixed(2)),amount:o,severity:"medium"})}});let i=new Map;n.forEach(e=>{i.set(e.category,(i.get(e.category)||0)+e.amount)});let l=Array.from(i.values()).reduce((e,t)=>e+t,0);i.forEach((t,n)=>{let r=t/l*100;r>30&&"Sal\xe1rio"!==n&&e.push({id:"overage-".concat(n),type:"category_overage",title:"\uD83D\uDCCA ".concat(n," acima do esperado"),description:"".concat(r.toFixed(0),"% dos seus gastos em ").concat(n,". M\xe9dia esperada \xe9 20%"),amount:t,severity:"low"})}),a(e.sort((e,t)=>{let n={high:0,medium:1,low:2};return n[e.severity]-n[t.severity]})),s(!1)},[t]);let l={high:u.Tj.status.error,medium:u.Tj.primary[500],low:u.Tj.primary[400]},d={high:u.Tj.status.error+"15",medium:u.Tj.primary[100],low:u.Tj.primary[50]};return i?(0,r.jsx)("div",{style:{padding:u.YK.lg,backgroundColor:u.Tj.background.light,borderRadius:u.Vq.lg,textAlign:"center",color:u.Tj.secondary[500]},children:"Carregando alertas..."}):0===n.length?(0,r.jsx)("div",{style:{padding:u.YK.lg,backgroundColor:u.Tj.status.success+"15",borderRadius:u.Vq.lg,border:"1px solid ".concat(u.Tj.status.success),textAlign:"center"},children:(0,r.jsx)("p",{style:{color:u.Tj.status.success,fontWeight:"bold",margin:0},children:"✅ Nenhum alerta! Seus gastos est\xe3o dentro do esperado."})}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:u.YK.md},children:n.map(e=>(0,r.jsxs)("div",{style:{padding:u.YK.md,backgroundColor:d[e.severity],border:"2px solid ".concat(l[e.severity]),borderRadius:u.Vq.md,display:"flex",gap:u.YK.md,alignItems:"flex-start",transition:u.bm.normal,cursor:"pointer"},onMouseEnter:e=>{let t=e.currentTarget;t.style.transform="translateY(-2px)",t.style.boxShadow=u.Eo.md},onMouseLeave:e=>{let t=e.currentTarget;t.style.transform="translateY(0)",t.style.boxShadow="none"},children:[(0,r.jsx)(Y.A,{size:24,color:l[e.severity],style:{flexShrink:0,marginTop:2}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("h4",{style:{...u.Il.label,margin:"0 0 ".concat(u.YK.xs," 0"),color:l[e.severity]},children:e.title}),(0,r.jsx)("p",{style:{...u.Il.small,margin:0,color:u.Tj.secondary[500]},children:e.description}),e.amount&&(0,r.jsxs)("p",{style:{...u.Il.label,margin:"".concat(u.YK.xs," 0 0 0"),color:u.Tj.secondary[900]},children:["Impacto: R$ ",e.amount.toFixed(2)]})]})]},e.id))})}n(95704).env.OPENAI_API_KEY;var U=n(30814),J=n(74474);function X(e){let{transactions:t}=e,[n,a]=(0,o.useState)([]),[i,s]=(0,o.useState)(!0);(0,o.useEffect)(()=>{if(!t.length)return void s(!1);let e=[],n=t.filter(e=>"expense"===e.type),o=new Map;n.forEach(e=>{o.set(e.category,(o.get(e.category)||0)+e.amount)});let i=Array.from(o.values()).reduce((e,t)=>e+t,0),l=o.get("Alimenta\xe7\xe3o")||0;l>.25*i&&e.push({id:"food-reduction",title:"\uD83C\uDF54 Reduzir Gastos com Alimenta\xe7\xe3o",description:"Voc\xea gasta ".concat((l/i*100).toFixed(0),"% com alimenta\xe7\xe3o. Tente preparar 2-3 refei\xe7\xf5es em casa por semana."),potentialSavings:.1*l,icon:(0,r.jsx)(z.A,{size:24,color:u.Tj.primary[500]}),priority:"high"});let d=o.get("Lazer")||0;if(d>.15*i){let t=.15*d;e.push({id:"entertainment-reduction",title:"\uD83C\uDFAC Otimizar Gastos com Lazer",description:"Voc\xea gasta R$ ".concat(d.toFixed(2)," em Lazer. Considere subscri\xe7\xf5es compartilhadas e atividades gratuitas."),potentialSavings:t,icon:(0,r.jsx)(U.A,{size:24,color:u.Tj.primary[500]}),priority:"medium"})}let c=o.get("Transporte")||0;if(c>100){let t=.1*c;e.push({id:"transport-optimization",title:"\uD83D\uDE97 Otimizar Gastos com Transporte",description:"Voc\xea gasta R$ ".concat(c.toFixed(2)," em Transporte. Considere carpooling, bicicleta ou transporte p\xfablico em dias alternados."),potentialSavings:t,icon:(0,r.jsx)(z.A,{size:24,color:u.Tj.primary[500]}),priority:"medium"})}let g=i/30;e.push({id:"emergency-fund",title:"\uD83C\uDFE6 Criar Fundo de Emerg\xeancia",description:"Reserve 10-15% da sua renda (m\xe9dia ".concat(g.toFixed(2),"/dia) em uma conta separada para imprevistos."),potentialSavings:.12*g*30,icon:(0,r.jsx)(J.A,{size:24,color:u.Tj.status.success}),priority:"high"}),e.push({id:"budget-planning",title:"\uD83D\uDCCA Definir Or\xe7amento por Categoria",description:"Crie limites para cada categoria. Recomendado: Alimenta\xe7\xe3o 25%, Transporte 15%, Habita\xe7\xe3o 30%, Outros 30%.",potentialSavings:.1*i,icon:(0,r.jsx)(K.A,{size:24,color:u.Tj.primary[500]}),priority:"high"}),a(e.sort((e,t)=>{let n={high:0,medium:1,low:2};return n[e.priority]-n[t.priority]})),s(!1)},[t]);let l={high:u.Tj.status.error,medium:u.Tj.primary[500],low:u.Tj.primary[400]},d={high:u.Tj.status.error+"10",medium:u.Tj.primary[50],low:u.Tj.primary[50]};return i?(0,r.jsx)("div",{style:{padding:u.YK.lg,backgroundColor:u.Tj.background.light,borderRadius:u.Vq.lg,textAlign:"center",color:u.Tj.secondary[500]},children:"Gerando sugest\xf5es..."}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:u.YK.md},children:n.map(e=>(0,r.jsxs)("div",{style:{padding:u.YK.md,backgroundColor:d[e.priority],border:"1px solid ".concat(l[e.priority],"30"),borderRadius:u.Vq.md,display:"flex",gap:u.YK.md,alignItems:"flex-start",transition:u.bm.normal,cursor:"pointer"},onMouseEnter:t=>{let n=t.currentTarget;n.style.transform="translateY(-2px)",n.style.boxShadow=u.Eo.sm,n.style.backgroundColor=d[e.priority]},onMouseLeave:e=>{let t=e.currentTarget;t.style.transform="translateY(0)",t.style.boxShadow="none"},children:[(0,r.jsx)("div",{style:{flexShrink:0},children:e.icon}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("h4",{style:{...u.Il.label,margin:"0 0 ".concat(u.YK.xs," 0"),color:u.Tj.secondary[900]},children:e.title}),(0,r.jsx)("p",{style:{...u.Il.small,margin:0,color:u.Tj.secondary[500]},children:e.description}),(0,r.jsx)("div",{style:{marginTop:u.YK.xs,padding:"".concat(u.YK.xs," ").concat(u.YK.sm),backgroundColor:u.Tj.status.success+"20",borderRadius:u.Vq.sm,display:"inline-block"},children:(0,r.jsxs)("p",{style:{...u.Il.small,margin:0,color:u.Tj.status.success,fontWeight:"bold"},children:["\uD83D\uDCB0 Potencial de economia: R$ ",e.potentialSavings.toFixed(2),"/m\xeas"]})})]})]},e.id))})}function Q(e){let{limits:t,categorySpend:n}=e,o=t.reduce((e,t)=>e+t.limit_amount,0),a=t.reduce((e,t)=>e+(n[t.category]||0),0),i=t.filter(e=>(n[e.category]||0)>e.limit_amount),s=t.filter(e=>{let t=(n[e.category]||0)/e.limit_amount*100;return t>=80&&t<100}),l=[],d=a/o*100;return d>100?l.push({type:"error",icon:"\uD83D\uDEA8",text:"Voc\xea j\xe1 gastou R$ ".concat((a-o).toFixed(2)," al\xe9m de todos os seus limites!")}):d>=80?l.push({type:"warning",icon:"⚠️",text:"Voc\xea est\xe1 em ".concat(d.toFixed(0),"% de seus limites. Tome cuidado!")}):l.push({type:"success",icon:"✨",text:"\xd3timo! Voc\xea est\xe1 em ".concat(d.toFixed(0),"% dos seus limites.")}),(t.length,[]).length>0&&l.push({type:"info",icon:"ℹ️",text:"Defina limites para mais categorias para melhorar seu controle."}),i.length>0&&l.push({type:"error",icon:"\uD83D\uDCC8",text:"".concat(i.length," categoria(s) acima do limite: ").concat(i.map(e=>e.category).join(", "))}),s.length>0&&l.push({type:"warning",icon:"\uD83D\uDCCA",text:"".concat(s.length," categoria(s) pr\xf3xima(s) ao limite: ").concat(s.map(e=>e.category).join(", "))}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:u.YK.sm},children:l.map((e,t)=>{let n="error"===e.type?u.Tj.status.error+"15":"warning"===e.type?u.Tj.status.warning+"15":"success"===e.type?u.Tj.status.success+"15":u.Tj.primary[50],o="error"===e.type?u.Tj.status.error:"warning"===e.type?u.Tj.status.warning:"success"===e.type?u.Tj.status.success:u.Tj.primary[300];return(0,r.jsxs)("div",{style:{padding:u.YK.md,backgroundColor:n,border:"1px solid ".concat(o,"30"),borderRadius:u.Vq.md,display:"flex",gap:u.YK.sm,alignItems:"flex-start"},children:[(0,r.jsx)("span",{style:{fontSize:"18px"},children:e.icon}),(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[700],margin:0},children:e.text})]},t)})})}function Z(e){let{userId:t,transactions:n}=e,[a,s]=(0,o.useState)([]),[l,d]=(0,o.useState)(!0),c=new Date,g="".concat(c.getFullYear(),"-").concat(String(c.getMonth()+1).padStart(2,"0")),p=(0,o.useMemo)(()=>{let e={};return n.filter(e=>e.date.substring(0,7)===g&&"expense"===e.type).forEach(t=>{e[t.category]=(e[t.category]||0)+t.amount}),e},[n]);return((0,o.useEffect)(()=>{(async()=>{try{let{data:e}=await (0,i.fe)(t);s(e||[])}catch(e){console.error("Error loading category limits:",e)}finally{d(!1)}})()},[t]),l||0===a.length)?null:(0,r.jsxs)("div",{style:{background:u.Tj.background.light,borderRadius:u.Vq.xl,boxShadow:u.Eo.md,border:"1px solid ".concat(u.Tj.primary[100]),overflow:"hidden",marginBottom:u.YK.lg},children:[(0,r.jsxs)("div",{style:{padding:u.YK.lg,borderBottom:"1px solid ".concat(u.Tj.primary[100]),display:"flex",alignItems:"center",gap:u.YK.md},children:[(0,r.jsx)("div",{style:{width:"44px",height:"44px",background:u.Tj.primary[100],borderRadius:u.Vq.lg,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(z.A,{size:24,color:u.Tj.primary[600]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{fontSize:u.Il.h3.fontSize,fontWeight:700,color:u.Tj.secondary[900],margin:0},children:"\uD83D\uDCC8 Limites vs Gastos por Categoria"}),(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,color:u.Tj.secondary[500],margin:"".concat(u.YK.xs," 0 0 0")},children:"Acompanhe seus gastos em rela\xe7\xe3o aos limites definidos neste m\xeas"})]})]}),(0,r.jsx)("div",{style:{padding:u.YK.lg},children:a.map((e,t)=>{let n=p[e.category]||0,o=Math.min(n/e.limit_amount*100,100),i=n>e.limit_amount;return e.limit_amount,(0,r.jsxs)("div",{style:{marginBottom:t<a.length-1?u.YK.md:0,display:"flex",justifyContent:"space-between",alignItems:"center",gap:u.YK.md},children:[(0,r.jsx)("div",{style:{flex:1},children:(0,r.jsx)("p",{style:{fontSize:u.Il.small.fontSize,fontWeight:500,color:u.Tj.secondary[900],margin:0},children:e.category})}),(0,r.jsx)("div",{style:{flex:3,height:"6px",backgroundColor:u.Tj.secondary[200],borderRadius:u.Vq.full,overflow:"hidden"},children:(0,r.jsx)("div",{style:{height:"100%",width:"".concat(o,"%"),backgroundColor:i?u.Tj.status.error:o>=80?u.Tj.status.warning:u.Tj.status.success,transition:u.bm.normal}})}),(0,r.jsx)("div",{style:{flex:1,textAlign:"right"},children:(0,r.jsxs)("p",{style:{fontSize:u.Il.small.fontSize,fontWeight:600,color:i?u.Tj.status.error:u.Tj.secondary[900],margin:0},children:["R$ ",n.toFixed(2)," / R$ ",e.limit_amount.toFixed(2)]})})]},e.id)})}),(0,r.jsxs)("div",{style:{padding:u.YK.lg,backgroundColor:u.Tj.primary[50],borderTop:"1px solid ".concat(u.Tj.primary[100])},children:[(0,r.jsx)("h4",{style:{fontSize:u.Il.body.fontSize,fontWeight:600,color:u.Tj.secondary[900],margin:0,marginBottom:u.YK.md},children:"\uD83D\uDCA1 Insights do Seu Or\xe7amento:"}),(0,r.jsx)(Q,{limits:a,categorySpend:p})]})]})}function ee(){var e;let[t,n]=(0,o.useState)(null),[s,l]=(0,o.useState)([]),[d,c]=(0,o.useState)(!0),g=(0,a.useRouter)();(0,o.useEffect)(()=>{(async()=>{try{let e=await (0,i.HW)();if(!e)return void g.push("/signin");n(e);let{data:t}=await (0,i.I0)(e.id);t&&l(t)}catch(e){console.error("Error loading data:",e)}finally{c(!1)}})()},[g]);let p=async()=>{await (0,i.signOut)(),g.push("/signin")},m=async()=>{if(t){let{data:e}=await (0,i.I0)(t.id);e&&l(e)}};return d?(0,r.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:u.Tj.background.gradient},children:[(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)("div",{style:{width:"50px",height:"50px",border:"3px solid ".concat(u.Tj.primary[200]),borderTop:"3px solid ".concat(u.Tj.primary[500]),borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,r.jsx)("p",{style:{fontSize:"16px",color:u.Tj.secondary[600],fontWeight:500},children:"Carregando seus dados..."})]}),(0,r.jsx)("style",{children:"\n          @keyframes spin {\n            to { transform: rotate(360deg); }\n          }\n        "})]}):t?(0,r.jsxs)("div",{style:{minHeight:"100vh",background:u.Tj.background.lighter,paddingBottom:"20px",width:"100%",overflow:"hidden"},children:[(0,r.jsx)(V.A,{userName:(null==(e=t.user_metadata)?void 0:e.name)||t.email||"Usu\xe1rio",onLogout:p}),(0,r.jsxs)("main",{style:{width:"100%",maxWidth:"100%",margin:"0 auto",padding:"12px",boxSizing:"border-box"},children:[(0,r.jsx)("style",{children:"\n          @media (min-width: 480px) {\n            main {\n              padding: 16px;\n            }\n          }\n          @media (min-width: 768px) {\n            main {\n              padding: 24px;\n            }\n          }\n        "}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px",alignItems:"start"},children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:u.YK.md},children:[(0,r.jsx)("section",{children:(0,r.jsx)(q,{transactions:s,userId:t.id})}),(0,r.jsx)("section",{children:(0,r.jsx)(H,{onTransactionsAdded:m})}),t&&(0,r.jsx)("section",{children:(0,r.jsx)(Z,{userId:t.id,transactions:s})}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:u.YK.sm,color:u.Tj.secondary[900],marginTop:u.YK.md},children:"⚠️ Avisos"}),(0,r.jsx)(G,{transactions:s})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:u.YK.sm,color:u.Tj.secondary[900],marginTop:u.YK.md},children:"\uD83D\uDCA1 Sugest\xf5es"}),(0,r.jsx)(X,{transactions:s})]}),(0,r.jsx)("section",{children:(0,r.jsx)(O,{transactions:s})})]}),(0,r.jsx)("div",{style:{position:"static"},children:(0,r.jsx)(A,{onTransactionAdded:m})})]})]})]}):null}}},e=>{e.O(0,[428,300,382,441,255,358],()=>e(e.s=36430)),_N_E=e.O()}]);