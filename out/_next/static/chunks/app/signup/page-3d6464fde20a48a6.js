(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{6132:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},13220:(e,t,a)=>{Promise.resolve().then(a.bind(a,38314))},38314:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(95155),r=a(12115),l=a(75746),n=a(20063),i=a(52619),o=a.n(i),c=a(42529),u=a(6132),d=a(71847);let m=(0,d.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=(0,d.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),g=(0,d.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),h=(0,d.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function f(){let[e,t]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[p,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),N=(0,n.useRouter)(),_=async t=>{if(t.preventDefault(),b(""),v(!0),a.length<6){b("Senha deve ter no m\xednimo 6 caracteres"),v(!1);return}let{error:s}=await (0,l.Hh)(e,a,d);s?(b(s.message),v(!1)):(j(!0),setTimeout(()=>{N.push("/signin")},2e3))};return w?(0,s.jsxs)("div",{className:"rounded-lg bg-green-50 border border-green-200 p-4 flex items-start gap-3",children:[(0,s.jsx)(c.A,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"Conta criada com sucesso! Redirecionando..."})]}):(0,s.jsxs)("form",{onSubmit:_,className:"space-y-5",children:[y&&(0,s.jsxs)("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 flex items-start gap-3",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm text-red-700 font-medium",children:y})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Nome Completo"}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(m,{className:"absolute left-4 top-3.5 w-5 h-5 text-blue-400 group-focus-within:text-blue-600 transition"}),(0,s.jsx)("input",{type:"text",id:"name",value:d,onChange:e=>f(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-gray-200 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition",placeholder:"Jo\xe3o Silva"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email"}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(x,{className:"absolute left-4 top-3.5 w-5 h-5 text-blue-400 group-focus-within:text-blue-600 transition"}),(0,s.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-gray-200 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition",placeholder:"seu@email.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Senha"}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(g,{className:"absolute left-4 top-3.5 w-5 h-5 text-blue-400 group-focus-within:text-blue-600 transition"}),(0,s.jsx)("input",{type:"password",id:"password",value:a,onChange:e=>i(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-gray-200 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition",placeholder:"••••••••"})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-600 font-medium",children:"M\xednimo 6 caracteres para sua seguran\xe7a"})]}),(0,s.jsxs)("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-300 transform hover:scale-105 active:scale-95",children:[(0,s.jsx)(h,{className:"w-5 h-5"}),p?"Criando conta...":"Criar conta"]}),(0,s.jsxs)("div",{className:"relative my-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-slate-600/50"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-3 bg-white text-gray-500 text-xs font-medium",children:"J\xc1 TEM CONTA?"})})]}),(0,s.jsx)("p",{className:"text-center text-sm text-gray-600",children:(0,s.jsx)(o(),{href:"/signin",className:"font-semibold text-blue-600 hover:text-blue-700 hover:underline transition cursor-pointer",children:"Entrar aqui"})})]})}function y(){return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-100 rounded-full opacity-30 blur-3xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-blue-50 rounded-full opacity-30 blur-3xl"}),(0,s.jsxs)("div",{className:"max-w-md w-full relative z-10",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-blue-100",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 to-blue-600 rounded-t-2xl"}),(0,s.jsxs)("div",{className:"text-center mb-8 pt-4",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-blue-100 rounded-full blur-lg"}),(0,s.jsx)("div",{className:"relative w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg",children:(0,s.jsx)(h,{className:"w-10 h-10 text-white"})})]})}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-blue-900 mb-2",children:"FinControl"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Crie Sua Conta"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs",children:"Comece a gerenciar suas finan\xe7as hoje mesmo"})]}),(0,s.jsx)(f,{}),(0,s.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),(0,s.jsx)("p",{className:"text-xs text-gray-600 font-semibold",children:"An\xe1lise"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),(0,s.jsx)("p",{className:"text-xs text-gray-600 font-semibold",children:"Seguro"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10.5 1.5H5a2 2 0 00-2 2v3H2.5a1 1 0 000 2H3v2H2.5a1 1 0 000 2H3v2H2.5a1 1 0 000 2H3v3a2 2 0 002 2h5.5V1.5zM6 5a1 1 0 011-1h3a1 1 0 110 2H7a1 1 0 01-1-1zm0 4a1 1 0 011-1h3a1 1 0 110 2H7a1 1 0 01-1-1zm0 4a1 1 0 011-1h3a1 1 0 110 2H7a1 1 0 01-1-1z"})})}),(0,s.jsx)("p",{className:"text-xs text-gray-600 font-semibold",children:"R\xe1pido"})]})]})})]}),(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsxs)("p",{className:"text-xs text-gray-500 flex items-center justify-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Dados encriptados e seguros"]})})]})]})}},42529:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},75746:(e,t,a)=>{"use strict";a.d(t,{EP:()=>M,tS:()=>C,yY:()=>d,m:()=>f,$L:()=>_,UI:()=>A,$S:()=>D,Uw:()=>h,_F:()=>v,M1:()=>y,fe:()=>j,f:()=>S,xz:()=>k,HW:()=>u,W1:()=>H,F3:()=>x,jo:()=>q,I0:()=>m,uG:()=>p,fE:()=>b,ud:()=>N,Jv:()=>o,CI:()=>c,Hh:()=>i,XW:()=>w,_y:()=>I,AF:()=>g});var s=a(92373);let r="https://rgxhxgigemncqkskaprj.supabase.co",l="sb_publishable_D9M6qWPxdZ_aZ52k0mKfCA_Sn9RJHZU";if(!r||!l)throw Error("Missing Supabase environment variables");let n=(0,s.UU)(r,l,{auth:{storage:{getItem:e=>{try{return localStorage.getItem(e)}catch(e){return null}},setItem:(e,t)=>{try{localStorage.setItem(e,t)}catch(e){}},removeItem:e=>{try{localStorage.removeItem(e)}catch(e){}}},autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});async function i(e,t,a){let{data:s,error:r}=await n.auth.signUp({email:e,password:t,options:{data:{name:a}}});return{data:s,error:r}}async function o(e,t){let{data:a,error:s}=await n.auth.signInWithPassword({email:e,password:t});return{data:a,error:s}}async function c(){let{error:e}=await n.auth.signOut();return{error:e}}async function u(){var e;let{data:t}=await n.auth.getSession();return null==t||null==(e=t.session)?void 0:e.user}async function d(e){let{data:t,error:a}=await n.from("transactions").insert([e]).select();return{data:t,error:a}}async function m(e){let{data:t,error:a}=await n.from("transactions").select("*").eq("user_id",e).order("date",{ascending:!1});return{data:t,error:a}}function x(e){let t,a=new Date,s=a.getFullYear(),r=a.getMonth(),l=new Date;switch(e){case"current-month":default:t=new Date(s,r,1);break;case"last-month":t=new Date(s,r-1,1),l=new Date(s,r,0);break;case"last-3-months":t=new Date(s,r-3,1);break;case"last-6-months":t=new Date(s,r-6,1);break;case"last-year":t=new Date(s-1,r,1);break;case"all-time":t=new Date(2020,0,1)}return{startDate:t.toISOString().split("T")[0],endDate:l.toISOString().split("T")[0]}}async function g(e,t){let{data:a,error:s}=await n.from("transactions").update(t).eq("id",e).select();return{data:a,error:s}}async function h(e){let{error:t}=await n.from("transactions").delete().eq("id",e);return{error:t}}async function f(e){let{error:t}=await n.from("transactions").delete().eq("user_id",e);return{error:t}}async function y(e,t){let{data:a,error:s}=await n.from("analysis_usage").select("*").eq("user_id",e).eq("month",t).single();return{data:a,error:s}}async function b(e,t){let{data:a,error:s}=await n.from("analysis_usage").select("*").eq("user_id",e).eq("month",t).single();if(s&&"PGRST116"===s.code){let{data:a,error:s}=await n.from("analysis_usage").insert([{user_id:e,month:t,usage_count:1}]).select();return{data:a,error:s}}if(s)return{data:null,error:s};let{data:r,error:l}=await n.from("analysis_usage").update({usage_count:((null==a?void 0:a.usage_count)||0)+1}).eq("user_id",e).eq("month",t).select();return{data:r,error:l}}async function p(e){let{data:t,error:a}=await n.from("user_roles").select("role").eq("user_id",e).single();return{role:(null==t?void 0:t.role)||"cliente",error:a}}async function v(){let{data:e,error:t}=await n.from("api_keys").select("key_name, key_value, description");return{data:e,error:t}}async function w(e,t){let{data:a,error:s}=await n.from("api_keys").update({key_value:t,updated_at:new Date().toISOString()}).eq("key_name",e).select();return{data:a,error:s}}async function j(e){let{data:t,error:a}=await n.from("category_limits").select("*").eq("user_id",e).order("category",{ascending:!0});return{data:t,error:a}}async function N(e,t,a){let{data:s}=await n.from("category_limits").select("id").eq("user_id",e).eq("category",t).single();if(null==s?void 0:s.id){let{data:e,error:t}=await n.from("category_limits").update({limit_amount:a,updated_at:new Date().toISOString()}).eq("id",s.id).select();return{data:e,error:t}}{let{data:s,error:r}=await n.from("category_limits").insert([{user_id:e,category:t,limit_amount:a}]).select();return{data:s,error:r}}}async function _(e){let{error:t}=await n.from("category_limits").delete().eq("id",e);return{error:t}}async function k(e){let t=new Date,a=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],{data:s,error:r}=await n.from("transactions").select("category, amount").eq("user_id",e).eq("type","expense").gte("date",a);if(r||!s)return{data:{},error:r};let l={};return s.forEach(e=>{l[e.category]=(l[e.category]||0)+e.amount}),{data:l,error:null}}async function S(e){let t=new Date,a=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(a.getTime()-1),r=new Date(s.getFullYear(),s.getMonth(),1).toISOString().split("T")[0],l=a.toISOString().split("T")[0],{data:i,error:o}=await n.from("transactions").select("category, amount").eq("user_id",e).eq("type","expense").gte("date",r).lt("date",l);if(o||!i)return{data:{},error:o};let c={};return i.forEach(e=>{c[e.category]=(c[e.category]||0)+e.amount}),{data:c,error:null}}async function q(e){let{data:t,error:a}=await n.from("recurring_expenses").select("*").eq("user_id",e).eq("is_active",!0).order("next_charge_date",{ascending:!0});return{data:t,error:a}}async function C(e){let{data:t,error:a}=await n.from("recurring_expenses").insert([e]).select();return{data:t,error:a}}async function D(e){let{error:t}=await n.from("recurring_expenses").delete().eq("id",e);return{error:t}}async function H(e){let{data:t,error:a}=await n.from("financial_goals").select("*").eq("user_id",e).eq("is_active",!0).order("target_date",{ascending:!0});return{data:t,error:a}}async function M(e){let{data:t,error:a}=await n.from("financial_goals").insert([e]).select();return{data:t,error:a}}async function I(e,t){let{data:a,error:s}=await n.from("financial_goals").update(t).eq("id",e).select();return{data:a,error:s}}async function A(e){let{error:t}=await n.from("financial_goals").delete().eq("id",e);return{error:t}}}},e=>{e.O(0,[428,441,255,358],()=>e(e.s=13220)),_N_E=e.O()}]);